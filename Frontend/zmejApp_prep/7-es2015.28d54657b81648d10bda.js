(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"8vy2":function(e,t,a){"use strict";a.r(t),a.d(t,"FormsModule",(function(){return ct}));var i=a("PCNd"),o=a("tyNb"),r=a("GJmQ"),c=a("ey9i"),n=a("0IaG"),s=a("3Pt+"),l=a("fXoL"),b=a("kmnG"),d=a("d3UM"),u=a("ofXK"),m=a("qFsG"),h=a("bTqV"),p=a("FKr1");const g=["class","component"];function f(e,t){if(1&e&&(l.Yb(0,"mat-option",9),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.id),l.Eb(1),l.Nc(e.fullName)}}const v=function(){return[]};let M=(()=>{class e{constructor(e,t,a){this.dialogRef=e,this.data=t,this.fb=a,this.vData={},this.vData=this.data.vData,console.log(this.vData),this.formConfirm=this.fb.group({id:null,Estado:[1],AsignadoA:[null,s.w.compose([s.w.required])],Observacion:""})}cancel(){this.dialogRef.close(!1)}submit(e,t){this.dialogRef.close({estado:!0,Observacion:e,AsignadoA:t})}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(n.g),l.Sb(n.a),l.Sb(s.e))},e.\u0275cmp=l.Mb({type:e,selectors:[["ngx-dialog-confirm",8,"component"]],attrs:g,decls:19,vars:6,consts:[["mat-dialog-title",""],[3,"formGroup"],["required","","formControlName","AsignadoA"],["AsignadoA",""],[3,"value",4,"ngFor","ngForOf"],[1,"demo-full-width"],["matInput","","formControlName","Observacion"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(e,t){1&e&&(l.Yb(0,"h2",0),l.Mc(1),l.Xb(),l.Yb(2,"mat-dialog-content"),l.Yb(3,"form",1),l.Yb(4,"mat-form-field"),l.Yb(5,"mat-label"),l.Mc(6,"ASIGNAR A"),l.Xb(),l.Yb(7,"mat-select",2,3),l.Kc(9,f,2,2,"mat-option",4),l.Xb(),l.Xb(),l.Yb(10,"mat-form-field",5),l.Yb(11,"mat-label"),l.Mc(12,"Observaci\xf3n"),l.Xb(),l.Tb(13,"textarea",6),l.Xb(),l.Xb(),l.Xb(),l.Yb(14,"mat-dialog-actions"),l.Yb(15,"button",7),l.gc("click",(function(){return t.cancel()})),l.Mc(16,"Cancelar"),l.Xb(),l.Yb(17,"button",8),l.Mc(18,"Aceptar"),l.Xb(),l.Xb()),2&e&&(l.Eb(1),l.Nc(t.vData.title),l.Eb(2),l.qc("formGroup",t.formConfirm),l.Eb(6),l.qc("ngForOf",t.vData.usersStatus||l.sc(5,v)),l.Eb(8),l.qc("mat-dialog-close",t.formConfirm.value)("disabled",!t.formConfirm.valid))},directives:[n.h,n.e,s.x,s.q,s.j,b.c,b.g,d.a,s.v,s.p,s.h,u.m,m.b,s.c,n.c,h.b,n.d,p.n],styles:[""]}),e})();var C=a("AytR");const X=["class","component"];function Y(e,t){if(1&e&&(l.Yb(0,"mat-option",11),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.code),l.Eb(1),l.Nc(e.name)}}function E(e,t){if(1&e&&(l.Yb(0,"mat-option",11),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.id),l.Eb(1),l.Nc(e.fullName)}}const D=function(){return[]};let O=(()=>{class e{constructor(e,t,a,i){this.dialogRef=e,this.data=t,this.fb=a,this.authorizationService=i,this.vData={},this.UsersStatus=[],this.alive=!0,this.error_message="";try{this.vData=this.data.vData,this.formReject=this.fb.group({id:null,Estado:[null,s.w.compose([s.w.required])],AsignadoA:[null,s.w.compose([s.w.required])],Observacion:""})}catch(o){}}cancel(){this.dialogRef.close(!1)}submit(e){console.log(this.formReject.value)}GetuserByStatusCode(e){try{console.log(e),this.UsersStatus=[],e>0&&this.authorizationService.get("api/RoleStatusCode/getUserByCode/"+e+"/"+C.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatus=e.body},e=>{console.log(e),this.error_message=e})}catch(t){}}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(n.g),l.Sb(n.a),l.Sb(s.e),l.Sb(c.c))},e.\u0275cmp=l.Mb({type:e,selectors:[["ngx-dialog-reject",8,"component"]],attrs:X,decls:25,vars:9,consts:[["mat-dialog-title",""],[3,"formGroup"],["required","","name","Estado","formControlName","Estado",3,"ngModel","ngModelChange"],["Estado",""],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","AsignadoA"],["AsignadoA",""],[1,"demo-full-width"],["matInput","","formControlName","Observacion"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(e,t){1&e&&(l.Yb(0,"h2",0),l.Mc(1),l.Xb(),l.Yb(2,"mat-dialog-content"),l.Yb(3,"form",1),l.Yb(4,"mat-form-field"),l.Yb(5,"mat-label"),l.Mc(6,"ESTADO"),l.Xb(),l.Yb(7,"mat-select",2,3),l.gc("ngModelChange",(function(e){return t.vData.Estado=e}))("ngModelChange",(function(e){return t.GetuserByStatusCode(e)})),l.Kc(9,Y,2,2,"mat-option",4),l.Xb(),l.Xb(),l.Yb(10,"mat-form-field"),l.Yb(11,"mat-label"),l.Mc(12,"ASIGNAR A"),l.Xb(),l.Yb(13,"mat-select",5,6),l.Kc(15,E,2,2,"mat-option",4),l.Xb(),l.Xb(),l.Yb(16,"mat-form-field",7),l.Yb(17,"mat-label"),l.Mc(18,"Observaci\xf3n"),l.Xb(),l.Tb(19,"textarea",8),l.Xb(),l.Xb(),l.Xb(),l.Yb(20,"mat-dialog-actions"),l.Yb(21,"button",9),l.gc("click",(function(){return t.cancel()})),l.Mc(22,"Cancelar"),l.Xb(),l.Yb(23,"button",10),l.Mc(24,"Aceptar"),l.Xb(),l.Xb()),2&e&&(l.Eb(1),l.Nc(t.vData.title),l.Eb(2),l.qc("formGroup",t.formReject),l.Eb(4),l.qc("ngModel",t.vData.Estado),l.Eb(2),l.qc("ngForOf",t.vData.statusData||l.sc(7,D)),l.Eb(6),l.qc("ngForOf",t.UsersStatus||l.sc(8,D)),l.Eb(8),l.qc("mat-dialog-close",t.formReject.value)("disabled",!t.formReject.valid))},directives:[n.h,n.e,s.x,s.q,s.j,b.c,b.g,d.a,s.v,s.p,s.h,u.m,m.b,s.c,n.c,h.b,n.d,p.n],styles:[""]}),e})();const q=["class","component"];function y(e,t){if(1&e&&(l.Yb(0,"mat-option",7),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.nombre),l.Eb(1),l.Nc(e.nombre)}}const A=function(){return[]};let S=(()=>{class e{constructor(e,t,a){this.dialogRef=e,this.data=t,this.fb=a,this.vData={},this.vData=this.data.vData,this.formConfirm=this.fb.group({Clasificacion:[null,s.w.compose([s.w.required])]})}cancel(){this.dialogRef.close(!1)}submit(e,t){this.dialogRef.close({estado:!0,Observacion:e,AsignadoA:t})}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(n.g),l.Sb(n.a),l.Sb(s.e))},e.\u0275cmp=l.Mb({type:e,selectors:[["ngx-dialog-confirm",8,"component"]],attrs:q,decls:15,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["required","","formControlName","Clasificacion"],["ClaisifacionId",""],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(e,t){1&e&&(l.Yb(0,"h2",0),l.Mc(1,"Clasifiaci\xf2n"),l.Xb(),l.Yb(2,"mat-dialog-content"),l.Yb(3,"form",1),l.Yb(4,"mat-form-field"),l.Yb(5,"mat-label"),l.Mc(6,"Seleccione una Clasifiaci\xf2n"),l.Xb(),l.Yb(7,"mat-select",2,3),l.Kc(9,y,2,2,"mat-option",4),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(10,"mat-dialog-actions"),l.Yb(11,"button",5),l.gc("click",(function(){return t.cancel()})),l.Mc(12,"Cancelar"),l.Xb(),l.Yb(13,"button",6),l.Mc(14,"Aceptar"),l.Xb(),l.Xb()),2&e&&(l.Eb(3),l.qc("formGroup",t.formConfirm),l.Eb(6),l.qc("ngForOf",t.vData.ClasificacionData||l.sc(4,A)),l.Eb(4),l.qc("mat-dialog-close",t.formConfirm.value)("disabled",!t.formConfirm.valid))},directives:[n.h,n.e,s.x,s.q,s.j,b.c,b.g,d.a,s.v,s.p,s.h,u.m,n.c,h.b,n.d,p.n],styles:[""]}),e})();const I=["class","component"];let N=(()=>{class e{constructor(e,t,a){this.dialogRef=e,this.data=t,this.fb=a,this.vData={},this.alive=!0;try{this.vData=this.data.vData,this.formSendMantenimiento=this.fb.group({id:null,Estado:[!0,s.w.compose([s.w.required])],evidencia:[null,s.w.compose([s.w.required])],NotaMantenimiento:"",tipodetrabajo:[null,s.w.compose([s.w.required])],ordenmantenimiento:["",s.w.compose([s.w.required])]})}catch(i){}}cancel(){this.dialogRef.close(!1)}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(n.g),l.Sb(n.a),l.Sb(s.e))},e.\u0275cmp=l.Mb({type:e,selectors:[["ngx-dialog-confirm",8,"component"]],attrs:I,decls:9,vars:0,consts:[["mat-dialog-title",""],[1,"demo-full-width"],["matInput","","formControlName","NotaMantenimiento"]],template:function(e,t){1&e&&(l.Yb(0,"h2",0),l.Mc(1,"ESPACIO PARA ADMINISTRACI\xf3N DE MANTENIMIENTO"),l.Xb(),l.Yb(2,"mat-dialog-content"),l.Yb(3,"form"),l.Yb(4,"mat-form-field",1),l.Yb(5,"mat-label"),l.Mc(6,"Observaci\xf3n"),l.Xb(),l.Tb(7,"textarea",2),l.Xb(),l.Xb(),l.Xb(),l.Tb(8,"mat-dialog-actions"))},directives:[n.h,n.e,s.x,s.q,s.r,b.c,b.g,m.b,s.c,s.p,s.h,n.c],styles:[""]}),e})();var T=a("tgey"),F=a("XiUz"),x=a("Wp6s");function j(e,t){if(1&e&&(l.Yb(0,"h3",4),l.Mc(1),l.Xb()),2&e){const e=l.kc();l.Eb(1),l.Nc(e.OrderData.nombre)}}function P(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",15),l.Yb(1,"button",11),l.gc("click",(function(){return l.Cc(e),l.kc(3).openOrderEspacioMantenimiento()})),l.Mc(2,"ESPACIO PARA ADMINISTRACION DE MANTENIMIENTO"),l.Xb(),l.Xb()}}function w(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",16),l.Yb(1,"button",11),l.gc("click",(function(){return l.Cc(e),l.kc(3).openClasificacionConfirm()})),l.Mc(2,"Clasificar"),l.Xb(),l.Xb()}}function z(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div",9),l.Yb(1,"div",10),l.Yb(2,"button",11),l.gc("click",(function(){return l.Cc(e),l.kc(2).openOrderZMEJConfirm()})),l.Mc(3,"Aprobar"),l.Xb(),l.Xb(),l.Yb(4,"div",10),l.Yb(5,"button",12),l.gc("click",(function(){return l.Cc(e),l.kc(2).openOrderZMEJReject()})),l.Mc(6,"Rechazar"),l.Xb(),l.Xb(),l.Kc(7,P,3,0,"div",13),l.Kc(8,w,3,0,"div",14),l.Xb()}if(2&e){const e=l.kc(2);l.Eb(7),l.qc("ngIf",6==e.OrderData.estado),l.Eb(1),l.qc("ngIf",6==e.OrderData.estado)}}function J(e,t){if(1&e&&(l.Yb(0,"div"),l.Yb(1,"div",5),l.Yb(2,"div",6),l.Yb(3,"address"),l.Yb(4,"strong"),l.Mc(5,"# de la orden:"),l.Xb(),l.Tb(6,"br"),l.Mc(7),l.Tb(8,"br"),l.Xb(),l.Yb(9,"address"),l.Yb(10,"strong"),l.Mc(11,"Proponente:"),l.Xb(),l.Tb(12,"br"),l.Mc(13),l.Tb(14,"br"),l.Xb(),l.Yb(15,"address"),l.Yb(16,"strong"),l.Mc(17,"Asignado A:"),l.Xb(),l.Tb(18,"br"),l.Mc(19),l.Tb(20,"br"),l.Xb(),l.Yb(21,"address"),l.Yb(22,"strong"),l.Mc(23,"Jefe de L\xednea:"),l.Xb(),l.Tb(24,"br"),l.Mc(25),l.Tb(26,"br"),l.Xb(),l.Yb(27,"address"),l.Yb(28,"strong"),l.Mc(29,"Responsable Ejecutor:"),l.Xb(),l.Tb(30,"br"),l.Mc(31),l.Tb(32,"br"),l.Xb(),l.Xb(),l.Yb(33,"div",7),l.Yb(34,"address"),l.Yb(35,"strong"),l.Mc(36,"Estado de la Orden:"),l.Xb(),l.Tb(37,"br"),l.Mc(38),l.Tb(39,"br"),l.Xb(),l.Yb(40,"address"),l.Yb(41,"strong"),l.Mc(42,"Nombre del ET:"),l.Xb(),l.Tb(43,"br"),l.Mc(44),l.Tb(45,"br"),l.Xb(),l.Yb(46,"address"),l.Yb(47,"strong"),l.Mc(48,"Codigo Del Equipo:"),l.Xb(),l.Tb(49,"br"),l.Mc(50),l.Tb(51,"br"),l.Xb(),l.Yb(52,"address"),l.Yb(53,"strong"),l.Mc(54,"Descripcion del equipo:"),l.Xb(),l.Tb(55,"br"),l.Mc(56),l.Tb(57,"br"),l.Xb(),l.Yb(58,"address"),l.Yb(59,"strong"),l.Mc(60,"Descripcion Ubicaci\xf3n tecnica:"),l.Xb(),l.Tb(61,"br"),l.Mc(62),l.Tb(63,"br"),l.Xb(),l.Yb(64,"address"),l.Yb(65,"strong"),l.Mc(66,"Clasificaci\xf3n:"),l.Xb(),l.Tb(67,"br"),l.Mc(68),l.Tb(69,"br"),l.Xb(),l.Xb(),l.Xb(),l.Yb(70,"div",5),l.Yb(71,"div",6),l.Yb(72,"address"),l.Yb(73,"strong"),l.Mc(74,"Detalle:"),l.Xb(),l.Tb(75,"br"),l.Mc(76),l.Tb(77,"br"),l.Xb(),l.Yb(78,"address"),l.Yb(79,"strong"),l.Mc(80,"Costo planeado:"),l.Xb(),l.Tb(81,"br"),l.Mc(82),l.lc(83,"currency"),l.Tb(84,"br"),l.Xb(),l.Yb(85,"address"),l.Yb(86,"strong"),l.Mc(87,"Beneficio Cualitativo:"),l.Xb(),l.Tb(88,"br"),l.Mc(89),l.Tb(90,"br"),l.Xb(),l.Yb(91,"address"),l.Yb(92,"strong"),l.Mc(93,"Beneficio Cuantitativo $:"),l.Xb(),l.Tb(94,"br"),l.Mc(95),l.lc(96,"currency"),l.Tb(97,"br"),l.Xb(),l.Xb(),l.Yb(98,"div",7),l.Yb(99,"address"),l.Yb(100,"strong"),l.Mc(101,"Paso EI:"),l.Xb(),l.Tb(102,"br"),l.Mc(103),l.Tb(104,"br"),l.Xb(),l.Yb(105,"address"),l.Yb(106,"strong"),l.Mc(107,"Norma de liquidaci\xf2n:"),l.Xb(),l.Tb(108,"br"),l.Mc(109),l.Tb(110,"br"),l.Xb(),l.Yb(111,"address"),l.Yb(112,"strong"),l.Mc(113,"Clase de actividad:"),l.Xb(),l.Tb(114,"br"),l.Mc(115),l.Tb(116,"br"),l.Tb(117,"br"),l.Xb(),l.Yb(118,"address"),l.Yb(119,"strong"),l.Mc(120,"Fecha inicio y fin de la mejora:"),l.Xb(),l.Tb(121,"br"),l.Mc(122),l.lc(123,"date"),l.Yb(124,"b"),l.Mc(125,"-"),l.Xb(),l.Mc(126),l.lc(127,"date"),l.Tb(128,"br"),l.Tb(129,"br"),l.Xb(),l.Xb(),l.Xb(),l.Kc(130,z,9,2,"div",8),l.Tb(131,"div",9),l.Xb()),2&e){const e=l.kc();l.Eb(7),l.Oc(" ",e.OrderData.ordenMantenimiento,""),l.Eb(6),l.Oc(" ",e.OrderData.nombreProponente,""),l.Eb(6),l.Oc(" ",e.OrderData.nombreAsignado,""),l.Eb(6),l.Oc(" ",e.OrderData.responsableDelPuestoDetrabajo,""),l.Eb(6),l.Oc(" ",e.OrderData.responsableEjecutor,""),l.Eb(7),l.Oc(" ",e.OrderData.nombreEstado," "),l.Eb(6),l.Oc(" ",e.OrderData.nombreDelPet," "),l.Eb(6),l.Oc(" ",e.OrderData.codigoDelEquipo," "),l.Eb(6),l.Oc(" ",e.OrderData.descripcionDelEquipo,""),l.Eb(6),l.Oc(" ",e.OrderData.ubicacionTecnica,""),l.Eb(6),l.Oc(" ",e.OrderData.nombreClasificacion,""),l.Eb(8),l.Oc(" ",e.OrderData.descripcion,""),l.Eb(6),l.Oc(" ",l.nc(83,21,e.OrderData.costoPlaneado,"COP"),""),l.Eb(7),l.Oc(" ",e.OrderData.beneficioCualitativo,""),l.Eb(6),l.Oc(" ",l.nc(96,24,e.OrderData.beneficioCuantitativo,"COP"),""),l.Eb(8),l.Oc(" ",e.OrderData.pasoTPM,""),l.Eb(6),l.Oc(" ",e.OrderData.codigoNormaDeLiquidacion,""),l.Eb(6),l.Oc(" ",e.OrderData.nombreClaseActividad,""),l.Eb(7),l.Oc(" ",l.nc(123,27,e.OrderData.fechaInicio,"dd/MM/yyyy")," "),l.Eb(4),l.Oc(" ",l.nc(127,30,e.OrderData.fechaFin,"dd/MM/yyyy")," "),l.Eb(4),l.qc("ngIf",e.OrderData.estado<6&&1==e.OrderData.puedeAprobar)}}let L=(()=>{class e{constructor(e,t,a,i,o){this.route=e,this.authService=t,this.authorizationService=a,this._router=i,this.dialog=o,this.OrderData={},this.UsersStatus=[],this.StatusData=[],this.alive=!0,this.loading=!1}ngOnInit(){try{this.route.paramMap.subscribe(e=>{this.getOrderZMEJjById(e.get("id"))})}catch(e){console.log(e)}}getOrderZMEJjById(e){try{this.loading=!0,this.authorizationService.get("api/OrderZMEJ/OrderDetails/"+e).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.loading=!1,this.OrderData=e.body,this.GetAllLowStatusCode(),this.GetAllUserByStatusCode(),this.GetAllClasificacion()})}catch(t){this.loading=!1,console.log(t)}}GetAllClasificacion(){try{this.authorizationService.get("ZMEJ.api/clasificacion/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ClasificacionData=e.body})}catch(e){console.log(e)}}GetAllLowStatusCode(){try{this.loading=!0,this.UsersStatus=[],this.authorizationService.get("ZMEJ.api/StatusCode/getAllLow/"+this.OrderData.estado).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.StatusData=e.body,this.loading=!1},e=>{this.loading=!1})}catch(e){this.loading=!1}}GetAllUserByStatusCode(){try{this.loading=!0,this.UsersStatus=[],this.authorizationService.get("api/RoleStatusCode/getUserByCode/"+(this.OrderData.estado+1)+"/"+C.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatus=e.body,this.loading=!1},e=>{this.loading=!1})}catch(e){this.loading=!1}}openOrderZMEJConfirm(e){this.dialog.open(M,{width:"500px",data:{vData:{title:"Aprobar la orden: "+this.OrderData.nombre,usersStatus:this.UsersStatus,AsignadoA:"",observacion:""}}}).afterClosed().subscribe(e=>{e&&(e.id=this.OrderData.id,this.SendOrderZMEJAproved(e))})}openClasificacionConfirm(e){this.dialog.open(S,{width:"500px",data:{vData:{title:"Asignar clasificaci\xf3n: "+this.OrderData.nombre,ClasificacionData:this.ClasificacionData}}}).afterClosed().subscribe(e=>{e&&(e.id=this.OrderData.id,this.SendClasificacionZMEJ(e))})}openOrderEspacioMantenimiento(){this.dialog.open(N,{width:"500px",data:{vData:{id:"",evidencia:"",ordenmantenimiento:"0",tipodetrabajo:"",nota:""}}}).afterClosed().subscribe(e=>{e&&(e.id=this.OrderData.id,this.SendEspacioMantenimiento(e))})}openOrderZMEJReject(){this.dialog.open(O,{width:"500px",data:{vData:{title:"Rechazar la orden: "+this.OrderData.nombre,usersStatus:[],Estado:"",statusData:this.StatusData,AsignadoA:"",observacion:""}}}).afterClosed().subscribe(e=>{e&&(e.id=this.OrderData.id,this.SendOrderZMEJReject(e))})}SendOrderZMEJReject(e){try{this.authorizationService.post("api/OrderZMEJ/reject",e).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{200==e.status?this.getOrderZMEJjById(this.OrderData.id):console.log(e.error)},e=>{})}catch(t){}}SendOrderZMEJAproved(e){try{this.loading=!0,this.authorizationService.post("api/OrderZMEJ/aproved",e).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{200==e.status?this.getOrderZMEJjById(this.OrderData.id):(this.loading=!1,console.log(e.error))},e=>{this.loading=!1})}catch(t){this.loading=!1}}SendClasificacionZMEJ(e){try{this.loading=!0,this.authorizationService.post("ZMEJ.api/OrderZMEJ/classification",e).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{},e=>{this.loading=!1})}catch(t){this.loading=!1}}SendEspacioMantenimiento(e){try{this.authorizationService.put("ZMEJ.api/OrderZMEJ/UpdateOM",e).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{console.log(e),200==e.status?this.getOrderZMEJjById(this.OrderData.id):console.log(e.error)},e=>{})}catch(t){}}LoadingAnimation(){this.loading=!0,setTimeout(()=>this.loading=!1,3e3)}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(o.a),l.Sb(c.b),l.Sb(c.c),l.Sb(o.f),l.Sb(n.b))},e.\u0275cmp=l.Mb({type:e,selectors:[["ngx-orderzmej"]],decls:9,vars:2,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],["class","pull-right",4,"ngIf"],[4,"ngIf"],[1,"pull-right"],[1,"row"],[1,"col-md-6","col-xxxl-4"],[1,"col-md-6","col-xxxl-4","text-right"],["class","buttons-row",4,"ngIf"],[1,"buttons-row"],["fxFlex","10","fxFlex.lt-sm","100"],["mat-raised-button","","color","primary",1,"m-t-8",3,"click"],["mat-raised-button","","color","warn",1,"m-t-8",3,"click"],["fxFlex","50","fxFlex.lt-sm","100",4,"ngIf"],["fxFlex","20","fxFlex.lt-sm","100",4,"ngIf"],["fxFlex","50","fxFlex.lt-sm","100"],["fxFlex","20","fxFlex.lt-sm","100"]],template:function(e,t){1&e&&(l.Tb(0,"page-header"),l.Yb(1,"div",0),l.Yb(2,"div",1),l.Yb(3,"mat-card"),l.Yb(4,"mat-card-title"),l.Yb(5,"h2"),l.Mc(6,"Detalle de la orden: \xa0\xa0"),l.Xb(),l.Kc(7,j,2,1,"h3",2),l.Xb(),l.Kc(8,J,132,33,"div",3),l.Xb(),l.Xb(),l.Xb()),2&e&&(l.Eb(7),l.qc("ngIf",t.OrderData&&null!=t.OrderData),l.Eb(1),l.qc("ngIf",t.OrderData&&null!=t.OrderData&&0==t.loading))},directives:[T.a,F.c,F.a,x.a,x.c,u.n,h.b],pipes:[u.d,u.f],styles:[".name[_ngcontent-%COMP%]{font-size:30px;border-bottom:2px solid #888;margin-bottom:20px}.name[_ngcontent-%COMP%]:first-letter{font-size:300%}.label[_ngcontent-%COMP%]{width:70px;font-weight:700}.email[_ngcontent-%COMP%], .label[_ngcontent-%COMP%], .mobile[_ngcontent-%COMP%], .phone[_ngcontent-%COMP%]{display:inline-block}.details-td[_ngcontent-%COMP%]{border-right:1px solid #eee;white-space:nowrap;padding:20px 30px 20px 20px}.description-td[_ngcontent-%COMP%]{position:relative;width:100%;padding:20px 30px;text-align:justify;margin-top:15px}.description[_ngcontent-%COMP%]{outline:0 solid transparent;border:0 solid transparent}.edit[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:13px;height:13px;cursor:pointer}.invoice-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoice-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-top:none}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-bottom:none}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .thick-line[_ngcontent-%COMP%]{border-top:2px solid}form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}"]}),e})();var G=a("M0ag"),k=a("hGDI");function Z(e,t){if(1&e&&(l.Yb(0,"mat-option",8),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.rc("value",e.code),l.Eb(1),l.Nc(e.name)}}const R=function(){return[5,10,20]};let U=(()=>{class e{constructor(e,t,a,i,o,r,c){this.authService=e,this.authorizationService=t,this.pagerService=a,this.datePipe=i,this.currencyPipe=o,this._router=r,this.cdr=c,this.FlujoData=[],this.isAuthenticated=!1,this.alive=!0,this.columns=[{header:"Orden",field:"ordenMantenimiento",width:"100px"},{header:"Nombre",field:"Nombre",formatter:e=>`<span class="sortable" (click)="viewOrderzmejDetail(${e.id})">${e.nombre}</span>`},{header:"ET",field:"nombreDelPet"},{header:"Costo Real",field:"costoReal",formatter:e=>""+this.currencyPipe.transform(e.costoReal,"","symbol","1.0-0")},{header:"Costo Planeado",field:"costoPlaneado",formatter:e=>""+this.currencyPipe.transform(e.costoPlaneado,"","symbol","1.0-0")},{header:"Estado",field:"nombreEstado"},{header:"Clasificaci\xf3n",field:"nombreClasificacion"},{header:"Fecha de inicio",field:"fechaInicio",formatter:e=>""+this.datePipe.transform(e.fechaInicio,"dd/MM/yyyy")},{header:"codigo del equipo",field:"codigoDelEquipo"},{header:"Descripcion del equipo",field:"descripcionDelEquipo"},{header:"Option",field:"option",width:"120px",pinned:"right",right:"0px",type:"button",buttons:[{type:"icon",text:"Ver detalle",icon:"visibility",tooltip:"Ver detalle",click:e=>this.viewOrderzmejDetail(e)},{icon:"edit",tooltip:"Editar",type:"icon",click:e=>this.EditOrderzmejDetail(e)}]}],this.List=[],this.total=0,this.isLoading=!0,this.query={q:"",sort:"stars",name:"0",page:0,per_page:10},this.isAuthenticated=!0,this.GetAllOrderZMEJ(),this.GetAllStatusCode(),e.isLoggedIn()}get params(){const e=Object.assign({},this.query);return e.page+=1,Object(G.a)(e)}ngOnInit(){}getNextPage(e){this.query.page=e.pageIndex,this.query.per_page=e.pageSize,this.setPage()}GetAllOrderZMEJ(){try{this.List=[],this.total=0,this.authorizationService.get("zmej.api/OrderZMEJ/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.OrderData=e.body,null!=this.OrderData&&(this.setPage(),this.total=this.OrderData.length,this.cdr.detectChanges()),this.isLoading=!1})}catch(e){console.log(e)}}addOrderzmej(e){null==e&&this._router.navigate(["/ordenes/create-zmej"])}viewOrderzmejDetail(e){console.log(e),null!=e&&this._router.navigate(["/ordenes/order-zmej-details/"+e.id])}EditOrderzmejDetail(e){null!=e&&this._router.navigate(["/ordenes/edit-zmej/"+e.id])}GetAllStatusCode(){try{this.authorizationService.get("zmej.api/statuscode/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.FlujoData=e.body})}catch(e){console.log(e)}}setPage(){let e=this.pagerService.getPager(this.OrderData.length,this.query.page+1,this.query.per_page);this.List=this.OrderData.slice(e.startIndex,e.endIndex+1)}search(){this.query.page=0,console.log(this.query),console.log(this.params);try{this.List=[],this.authorizationService.post("zmej.api/OrderZMEJ/FilterOrder",{Name:this.query.q,id:this.query.name}).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.OrderData=e.body,null!=this.OrderData&&(this.setPage(),this.total=this.OrderData.length,this.cdr.detectChanges()),this.isLoading=!1})}catch(e){this.List=[],console.log(e)}}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(c.b),l.Sb(c.c),l.Sb(c.e),l.Sb(u.f),l.Sb(u.d),l.Sb(o.f),l.Sb(l.h))},e.\u0275cmp=l.Mb({type:e,selectors:[["ngx-orderzmej"]],decls:13,vars:12,consts:[[1,"bg-blue-600"],[1,"m-r-8"],["matInput","","name","q","placeholder","Buscar por nombre",3,"ngModel","ngModelChange"],["name","order","placeholder","Filtrar por estado",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"m-r-8",3,"click"],[3,"data","columns","length","loading","pageOnFront","pageIndex","pageSize","pageSizeOptions","page"],[3,"value"]],template:function(e,t){1&e&&(l.Tb(0,"page-header",0),l.Yb(1,"form"),l.Yb(2,"mat-form-field",1),l.Yb(3,"input",2),l.gc("ngModelChange",(function(e){return t.query.q=e})),l.Xb(),l.Xb(),l.Yb(4,"mat-form-field",1),l.Yb(5,"mat-select",3),l.gc("ngModelChange",(function(e){return t.query.name=e})),l.Tb(6,"mat-option",4),l.Kc(7,Z,2,2,"mat-option",5),l.Xb(),l.Xb(),l.Yb(8,"button",6),l.gc("click",(function(){return t.search()})),l.Mc(9,"Buscar"),l.Xb(),l.Yb(10,"button",6),l.gc("click",(function(){return t.addOrderzmej(null)})),l.Mc(11,"Crear nueva orden"),l.Xb(),l.Xb(),l.Yb(12,"mtx-grid",7),l.gc("page",(function(e){return t.getNextPage(e)})),l.Xb()),2&e&&(l.Eb(3),l.qc("ngModel",t.query.q),l.Eb(2),l.qc("ngModel",t.query.name),l.Eb(2),l.qc("ngForOf",t.FlujoData),l.Eb(5),l.qc("data",t.List)("columns",t.columns)("length",t.total)("loading",t.isLoading)("pageOnFront",!1)("pageIndex",t.query.page)("pageSize",t.query.per_page)("pageSizeOptions",l.sc(11,R)))},directives:[T.a,s.x,s.q,s.r,b.c,m.b,s.c,s.p,s.s,d.a,p.n,u.m,h.b,k.a],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),e})();var K=a("ihCf"),_=a("YKwE");let B=(()=>{class e{constructor(e,t,a,i){this.el=e,this.currencyPipe=t,this.renderer=a,this.locale=i,this.currencyCode="USD",this.allowNegative=!1,this.regex={positiveDecimal:new RegExp(/^\d*[\.|,]?\d*$/g),allDecimal:new RegExp(/^-?\d*[\.|,]?\d*$/g)},this.specialKeys=["Backspace","Delete","ArrowLeft","ArrowRight","Del"]}ngAfterViewInit(){this.el.nativeElement.value=this.currencyPipe.transform(this.el.nativeElement.value,this.currencyCode)}onFocus(){this.el.nativeElement.value=this.el.nativeElement.value.replace(/[^\d.,-]/g,""),this.el.nativeElement.select()}onFocusout(){let e=this.el.nativeElement.value;(0===e.length||1===e.length&&[",",".",""].indexOf(e[0])>-1)&&(e="0"),this.el.nativeElement.value=this.currencyPipe.transform(e,this.currencyCode)}onKeyDown(e){-1===this.specialKeys.indexOf(e.key)&&(e.key.match(this.allowNegative?this.regex.allDecimal:this.regex.positiveDecimal)||e.preventDefault())}onBlur(e){const t=function(e,t){const a=new Intl.NumberFormat(t).format(1111).replace(/1/g,""),i=new Intl.NumberFormat(t).format(1.1).replace(/1/g,"");let o=e.replace(new RegExp("\\"+a,"g"),"");o=o.replace(new RegExp("\\"+i,"g"),".");const r=o.replace(/[^\d.-]/g,"");return Number.isNaN(r)?0:r}(this.el.nativeElement.value,this.locale).replace(/^[^0-9]{2}..*/g,"");this.el.nativeElement.value=t}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(l.l),l.Sb(u.d),l.Sb(l.F),l.Sb(l.v))},e.\u0275dir=l.Nb({type:e,selectors:[["","mvndrMatCurrencyFormat",""]],hostBindings:function(e,t){1&e&&l.gc("focus",(function(){return t.onFocus()}))("focusout",(function(){return t.onFocusout()}))("keydown",(function(e){return t.onKeyDown(e)}))("blur",(function(){return t.onBlur()}))},inputs:{currencyCode:"currencyCode",allowNegative:"allowNegative"},features:[l.Db([u.d])]}),e})(),V=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[]]}),e})();var $=a("iadO"),H=a("bSwM");function Q(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"ingrese un nombre "),l.Xb())}function W(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"ingrese un nombre "),l.Xb())}function ee(e,t){if(1&e&&(l.Yb(0,"mat-option",52),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Eb(1),l.Nc(e.fullName)}}function te(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"seleccione un proponente "),l.Xb())}function ae(e,t){if(1&e&&(l.Yb(0,"mat-option",52),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Eb(1),l.Nc(e.fullName)}}function ie(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione una persona"),l.Xb())}function oe(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione un pet "),l.Xb())}function re(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione un paso tpm "),l.Xb())}function ce(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione un responsable "),l.Xb())}function ne(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"este campo es requerido"),l.Xb())}function se(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione un equipo "),l.Xb())}function le(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"selecione una opcion "),l.Xb())}function be(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"ingrese un nombre "),l.Xb())}function de(e,t){if(1&e&&(l.Yb(0,"mat-option",52),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.rc("value",e.id),l.Eb(1),l.Nc(e.nombre)}}function ue(e,t){1&e&&l.Tb(0,"mat-error")}function me(e,t){1&e&&l.Tb(0,"mat-error")}function he(e,t){1&e&&l.Tb(0,"mat-error")}function pe(e,t){1&e&&l.Tb(0,"mat-error")}function ge(e,t){1&e&&l.Tb(0,"mat-error")}function fe(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione una fecha "),l.Xb())}function ve(e,t){if(1&e&&(l.Yb(0,"mat-option",52),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.id),l.Eb(1),l.Nc(e.descripcion)}}function Me(e,t){if(1&e&&(l.Yb(0,"mat-option",52),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.id),l.Eb(1),l.Nc(e.descripcion)}}function Ce(e,t){if(1&e&&(l.Yb(0,"mat-option",52),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.id),l.Eb(1),l.Nc(e.nombre)}}function Xe(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione una clasifica\xf3n"),l.Xb())}function Ye(e,t){if(1&e&&(l.Yb(0,"li",56),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.Eb(1),l.Nc(e)}}function Ee(e,t){if(1&e&&(l.Yb(0,"div",53),l.Yb(1,"ul",54),l.Kc(2,Ye,2,1,"li",55),l.Xb(),l.Xb()),2&e){const e=l.kc();l.Eb(2),l.qc("ngForOf",e.errors)}}const De=function(){return[]};let Oe=(()=>{class e{constructor(e,t,a,i,o){this.fb=e,this.authService=t,this.authorizationService=a,this.router=i,this.dateAdapter=o,this.isAuthenticated=!1,this.orderZMEJ={},this.errors=[],this.showMessages={},this.NormaDeLiquidacionData=[],this.maquinasData=[],this.ubcacionTecnicaData=[],this.submitted=!1,this.alive=!0,this.ubicacionTecnica="",this.codigoDelEquipo="",this.costoTotal=0,this.LineaData=[],this.HornoData=[],this.vHornoResultData=[],this.ClasificacionData=[],this.usAmount=0,this.dateAdapter.setLocale("en-GB"),this.showMessages={success:!0,error:!0},this.reactiveForm2=this.fb.group({nombre:["",[s.w.required]],descripcion:["",[s.w.required]],proponente:["",[s.w.required]],AsignadoA:["",[s.w.required]],nombreDelPet:["",[s.w.required]],pasoTPM:["",[s.w.required]],responsableDelPuestoDetrabajo:["",[s.w.required]],responsableEjecutor:["",[s.w.required]],codigoDelEquipo:["",[s.w.required]],descripcionDelEquipo:[""],ubicacionTecnica:["",[s.w.required]],descripcionDeUbicacionTecnica:[""],NormaDeLiquidacionId:["1"],CodigoNormaDeLiquidacion:["",[s.w.required]],claseDeActividadID:["",[s.w.required]],costomaterial:["0"],costomanodeobra:["0"],costoservicios:["0"],beneficioCualitativo:[""],beneficioCuantitativo:[0,[s.w.required]],duraciondelTrabajo:["0",[s.w.required]],fechaInicio:["",[s.w.required]],pregunta1:"",pregunta2:"",pregunta3:"",linea:"",horno:"",clasificacion:0,enviarCorreo:!1}),t.isLoggedIn()&&(this.isAuthenticated=!0,this.GetAllClaseDeActividad(),this.GetAllNormaDeLiquidacion(),this.GetAllUserValidador(),this.GetAllProponente(),this.GetAllMaquinas(),this.GetAllPets(),this.GetAllPuestoDeTrabajos(),this.GetAllUbicacionTecnica(),this.GetAllGrupoPlanificador(),this.GetAllResCrontrolProd(),this.GetAllClasificacion())}ngOnInit(){}GetAllGrupoPlanificador(){this.authorizationService.get("zmej.api/grupoPlanificador/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.HornoData=e.body},e=>{})}GetAllClasificacion(){try{this.authorizationService.get("ZMEJ.api/clasificacion/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ClasificacionData=e.body})}catch(e){console.log(e)}}GetAllResCrontrolProd(){this.authorizationService.get("zmej.api/resctrlproduccion/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.LineaData=e.body},e=>{})}GetAllUserValidador(){try{this.authorizationService.get("api/RoleStatusCode/getUserByCode/2/"+C.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatus=e.body},e=>{})}catch(e){}}GetAllProponente(){this.authorizationService.get("api/RoleStatusCode/getUserByCode/1/"+C.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatusProponente=e.body},e=>{})}GetAllNormaDeLiquidacion(){this.authorizationService.get("ZMEJ.api/NormaDeLiquidacion/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.NormaDeLiquidacionData=e.body},e=>{})}GetAllClaseDeActividad(){this.authorizationService.get("ZMEJ.api/ClaseDeActividad/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ClaseDeActividad=e.body},e=>{})}GetAllPets(){this.authorizationService.get("maestrassip.api/pets/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.petsData=e.body},e=>{})}GetAllMaquinas(){this.maquinasData=[],this.authorizationService.get("zmej.api/maquinas/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.maquinasData=e.body},e=>{})}GetAllUbicacionTecnica(){this.authorizationService.get("zmej.api/ubicacionTecnica/getallactive").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ubcacionTecnicaData=e.body},e=>{})}GetAllPuestoDeTrabajos(){this.authorizationService.get("zmej.api/puestodetrabajo/getallactive").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.puestodetrabajoData=e.body},e=>{})}onSubmitOrderzmej(){this.errors=[],this.messages=[],this.submitted=!0;try{this.authorizationService.post("api/OrderZMEJ/save",this.reactiveForm2.value).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{200==e.status?(this.messages[0]="datos guardados correctamente",setTimeout(()=>this.router.navigateByUrl("/ordenes/zmej"),this.redirectDelay)):(this.submitted=!1,this.errors[0]=e.error,console.log(e.error))},e=>{this.submitted=!1,this.errors=e})}catch(e){console.log(e),this.submitted=!1}}onChangeUbicacion(e){try{this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue("");let t=this.ubcacionTecnicaData.filter(t=>t.ubicacion===e);null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue(t[0].descripcion))}catch(t){console.log("error en ubicacion tecnica")}}onChangeMaquina(e){try{this.reactiveForm2.controls.descripcionDelEquipo.setValue("");let t=this.maquinasData.filter(t=>t.maquina===e);null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDelEquipo.setValue(t[0].descripcion))}catch(t){console.log("error en onChangeMaquina ")}}onChangeLinea(e){try{this.reactiveForm2.controls.horno.setValue(""),this.vHornoResultData=this.HornoData.filter(t=>t.resControlProdId===e)}catch(t){}}changeCosto(e){try{let e=this.reactiveForm2.get("costoservicios"),t=this.reactiveForm2.get("costomanodeobra"),a=this.reactiveForm2.get("costomaterial");this.costoTotal=+e.value+ +t.value+ +a.value}catch(t){}}updateUSAmount(e){this.usAmount=e.target.value}setDate(){try{let e=this.reactiveForm2.get("fechaInicio").value,t=+this.reactiveForm2.get("duraciondelTrabajo").value,a=new Date(e);this.fechaFinal=this.addDays(a,t)}catch(e){}}addDays(e,t){return e.setDate(e.getDate()+t),e}addEvent(e,t){this.setDate()}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(s.e),l.Sb(c.b),l.Sb(c.c),l.Sb(o.f),l.Sb(p.c))},e.\u0275cmp=l.Mb({type:e,selectors:[["ngx-orderzmej"]],decls:205,vars:55,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],[1,"form-field-full",3,"formGroup","ngSubmit"],["form","ngForm"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],["matInput","","placeholder","nombre de la propuesta","formControlName","nombre","required",""],[4,"ngIf"],["matInput","","cdkTextareaAutosize","","formControlName","descripcion","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["required","","formControlName","proponente","required",""],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","AsignadoA","required",""],["bindLabel","descripcion","bindValue","descripcion","autofocus","","formControlName","nombreDelPet",3,"items"],["required","","formControlName","pasoTPM","required",""],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["bindLabel","fullDescripcion","bindValue","fullDescripcion","autofocus","","formControlName","responsableDelPuestoDetrabajo",3,"items"],["matInput","","placeholder","Simple placeholder","type","text","formControlName","responsableEjecutor","required",""],["bindLabel","fullDescripcion","bindValue","maquina","autofocus","","formControlName","codigoDelEquipo",3,"items","ngModelChange"],["bindLabel","fullDescripcion","o","","bindValue","fullDescripcion","autofocus","","formControlName","ubicacionTecnica",3,"items","ngModel","ngModelChange"],["matInput","","placeholder","nombre","formControlName","CodigoNormaDeLiquidacion","required",""],["required","","formControlName","claseDeActividadID","required",""],["fxFlex","20","fxFlex.lt-sm","100"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomaterial","mvndrMatCurrencyFormat","","required","",3,"allowNegative","currencyCode","change"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomanodeobra","mvndrMatCurrencyFormat","","required","",3,"allowNegative","currencyCode","change"],["matInput","","placeholder","Costo Material","type","text","formControlName","costoservicios","mvndrMatCurrencyFormat","","required","",3,"allowNegative","currencyCode","change"],["matInput","","mvndrMatCurrencyFormat","","readonly","",3,"value","allowNegative","currencyCode"],["fxFlex","33.3","fxFlex.lt-sm","100"],["formControlName","pregunta1"],["value","Si"],["value","No"],["formControlName","pregunta2"],["formControlName","pregunta3"],["matInput","","cdkTextareaAutosize","","formControlName","beneficioCualitativo","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["matInput","","placeholder","beneficioCuantitativo","type","text","mvndrMatCurrencyFormat","","formControlName","beneficioCuantitativo","required","",3,"allowNegative","currencyCode"],["matInput","","placeholder","","formControlName","duraciondelTrabajo","required","",3,"change"],["matInput","","placeholder","Fecha de inicio","formControlName","fechaInicio",3,"matDatepicker","change","dateChange"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","",3,"value"],["formControlName","linea",3,"ngModelChange"],["formControlName","horno"],["formControlName","clasificacion"],["id","amateur","color","primary","formControlName","enviarCorreo",1,"amateur"],["mat-raised-button","","color","primary",1,"m-t-8",3,"disabled"],["class","m-t-16","outline","danger",4,"ngIf"],[3,"value"],["outline","danger",1,"m-t-16"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"]],template:function(e,t){if(1&e&&(l.Tb(0,"page-header"),l.Yb(1,"div",0),l.Yb(2,"div",1),l.Yb(3,"mat-card"),l.Yb(4,"mat-card-title"),l.Mc(5,"Crear Orden"),l.Xb(),l.Yb(6,"form",2,3),l.gc("ngSubmit",(function(){return t.onSubmitOrderzmej()})),l.Yb(8,"div",4),l.Yb(9,"div",5),l.Yb(10,"mat-form-field"),l.Yb(11,"mat-label"),l.Mc(12,"NOMBRE DE LA PROPUESTA"),l.Xb(),l.Tb(13,"input",6),l.Kc(14,Q,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(15,"div",5),l.Yb(16,"mat-form-field"),l.Yb(17,"mat-label"),l.Mc(18,"DESCRIPCION DETALLADA DE LA PROPUESTA"),l.Xb(),l.Tb(19,"textarea",8),l.Kc(20,W,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(21,"div",5),l.Yb(22,"mat-form-field"),l.Yb(23,"mat-label"),l.Mc(24,"PROPONENTE"),l.Xb(),l.Yb(25,"mat-select",9),l.Kc(26,ee,2,2,"mat-option",10),l.Xb(),l.Kc(27,te,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(28,"div",5),l.Yb(29,"mat-form-field"),l.Yb(30,"mat-label"),l.Mc(31,"JEFE DE MANTENIMIENTO"),l.Xb(),l.Yb(32,"mat-select",11),l.Kc(33,ae,2,2,"mat-option",10),l.Xb(),l.Kc(34,ie,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(35,"div",5),l.Yb(36,"mat-form-field"),l.Yb(37,"mat-label"),l.Mc(38,"Nombre ET"),l.Xb(),l.Tb(39,"mtx-select",12),l.Kc(40,oe,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(41,"div",5),l.Yb(42,"mat-form-field"),l.Yb(43,"mat-label"),l.Mc(44,"PASO TPM"),l.Xb(),l.Yb(45,"mat-select",13),l.Yb(46,"mat-option",14),l.Mc(47,"0"),l.Xb(),l.Yb(48,"mat-option",15),l.Mc(49,"1"),l.Xb(),l.Yb(50,"mat-option",16),l.Mc(51,"2"),l.Xb(),l.Yb(52,"mat-option",17),l.Mc(53,"3"),l.Xb(),l.Yb(54,"mat-option",18),l.Mc(55,"4"),l.Xb(),l.Yb(56,"mat-option",19),l.Mc(57,"5"),l.Xb(),l.Yb(58,"mat-option",20),l.Mc(59,"6"),l.Xb(),l.Yb(60,"mat-option",21),l.Mc(61,"7"),l.Xb(),l.Xb(),l.Kc(62,re,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(63,"div",5),l.Yb(64,"mat-form-field"),l.Yb(65,"mat-label"),l.Mc(66,"JEFE DE L\xcdNEA"),l.Xb(),l.Tb(67,"mtx-select",22),l.Kc(68,ce,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(69,"div",5),l.Yb(70,"mat-form-field"),l.Yb(71,"mat-label"),l.Mc(72,"RESPONSABLE DE EJECUTAR"),l.Xb(),l.Tb(73,"input",23),l.Kc(74,ne,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(75,"div",5),l.Yb(76,"mat-form-field"),l.Yb(77,"mat-label"),l.Mc(78,"CODIGO DEL EQUIPO"),l.Xb(),l.Yb(79,"mtx-select",24),l.gc("ngModelChange",(function(e){return t.onChangeMaquina(e)})),l.Xb(),l.Kc(80,se,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(81,"div",5),l.Yb(82,"mat-form-field"),l.Yb(83,"mat-label"),l.Mc(84,"UBICACI\xd3N TECNICA"),l.Xb(),l.Yb(85,"mtx-select",25),l.gc("ngModelChange",(function(e){return t.onChangeUbicacion(e)}))("ngModelChange",(function(e){return t.ubicacionTecnica=e})),l.Xb(),l.Kc(86,le,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(87,"div",5),l.Yb(88,"mat-form-field"),l.Yb(89,"mat-label"),l.Mc(90,"# CeCo"),l.Xb(),l.Tb(91,"input",26),l.Kc(92,be,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(93,"div",5),l.Yb(94,"mat-form-field"),l.Yb(95,"mat-label"),l.Mc(96,"CLASE DE ACTIVIDAD"),l.Xb(),l.Yb(97,"mat-select",27),l.Kc(98,de,2,2,"mat-option",10),l.Xb(),l.Kc(99,ue,1,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(100,"div",28),l.Yb(101,"mat-form-field"),l.Yb(102,"mat-label"),l.Mc(103,"Costo Material"),l.Xb(),l.Yb(104,"input",29),l.gc("change",(function(e){return t.changeCosto(e)})),l.Xb(),l.Kc(105,me,1,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(106,"div",28),l.Yb(107,"mat-form-field"),l.Yb(108,"mat-label"),l.Mc(109,"Costo Mano de Obra"),l.Xb(),l.Yb(110,"input",30),l.gc("change",(function(e){return t.changeCosto(e)})),l.Xb(),l.Kc(111,he,1,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(112,"div",28),l.Yb(113,"mat-form-field"),l.Yb(114,"mat-label"),l.Mc(115,"Costo de Servicios"),l.Xb(),l.Yb(116,"input",31),l.gc("change",(function(e){return t.changeCosto(e)})),l.Xb(),l.Kc(117,pe,1,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(118,"div",28),l.Yb(119,"mat-form-field"),l.Yb(120,"mat-label"),l.Mc(121,"Costo Total"),l.Xb(),l.Tb(122,"input",32),l.Xb(),l.Xb(),l.Yb(123,"div",33),l.Yb(124,"mat-form-field"),l.Yb(125,"mat-label"),l.Mc(126,"Con la mejora quedan repuestos obsoletos?"),l.Xb(),l.Yb(127,"mat-select",34),l.Yb(128,"mat-option",35),l.Mc(129,"SI"),l.Xb(),l.Yb(130,"mat-option",36),l.Mc(131,"No"),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(132,"div",33),l.Yb(133,"mat-form-field"),l.Yb(134,"mat-label"),l.Mc(135,"se cambia la planificacion de los repuestos?"),l.Xb(),l.Yb(136,"mat-select",37),l.Yb(137,"mat-option",35),l.Mc(138,"SI"),l.Xb(),l.Yb(139,"mat-option",36),l.Mc(140,"No"),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(141,"div",33),l.Yb(142,"mat-form-field"),l.Yb(143,"mat-label"),l.Mc(144,"se matriculan nuevas referencias? "),l.Xb(),l.Yb(145,"mat-select",38),l.Yb(146,"mat-option",35),l.Mc(147,"SI"),l.Xb(),l.Yb(148,"mat-option",36),l.Mc(149,"No"),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(150,"div",5),l.Yb(151,"mat-form-field"),l.Yb(152,"mat-label"),l.Mc(153,"BENEFICIO CUALITATIVO"),l.Xb(),l.Tb(154,"textarea",39),l.Xb(),l.Xb(),l.Yb(155,"div",5),l.Yb(156,"mat-form-field"),l.Yb(157,"mat-label"),l.Mc(158,"BENEFICIO CUANTITATIVO $"),l.Xb(),l.Tb(159,"input",40),l.Xb(),l.Xb(),l.Yb(160,"div",33),l.Yb(161,"mat-form-field"),l.Yb(162,"mat-label"),l.Mc(163,"DURACION DEL TRABAJO (DIAS)"),l.Xb(),l.Yb(164,"input",41),l.gc("change",(function(){return t.setDate()})),l.Xb(),l.Kc(165,ge,1,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(166,"div",33),l.Yb(167,"mat-form-field"),l.Yb(168,"input",42),l.gc("change",(function(){return t.setDate()}))("dateChange",(function(e){return t.addEvent("change",e)})),l.Xb(),l.Tb(169,"mat-datepicker-toggle",43),l.Tb(170,"mat-datepicker",null,44),l.Kc(172,fe,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(173,"div",33),l.Yb(174,"mat-form-field"),l.Yb(175,"mat-label"),l.Mc(176,"Fecha Final"),l.Xb(),l.Tb(177,"input",45),l.lc(178,"date"),l.Xb(),l.Xb(),l.Yb(179,"div",33),l.Yb(180,"mat-form-field"),l.Yb(181,"mat-label"),l.Mc(182,"Linea "),l.Xb(),l.Yb(183,"mat-select",46),l.gc("ngModelChange",(function(e){return t.onChangeLinea(e)})),l.Kc(184,ve,2,2,"mat-option",10),l.Xb(),l.Xb(),l.Xb(),l.Yb(185,"div",33),l.Yb(186,"mat-form-field"),l.Yb(187,"mat-label"),l.Mc(188,"Horno "),l.Xb(),l.Yb(189,"mat-select",47),l.Kc(190,Me,2,2,"mat-option",10),l.Xb(),l.Xb(),l.Xb(),l.Yb(191,"div",33),l.Yb(192,"mat-form-field"),l.Yb(193,"mat-label"),l.Mc(194,"Clasificaci\xf3n"),l.Xb(),l.Yb(195,"mat-select",48),l.Tb(196,"mat-option",14),l.Kc(197,Ce,2,2,"mat-option",10),l.Xb(),l.Kc(198,Xe,2,0,"mat-error",7),l.Xb(),l.Xb(),l.Yb(199,"div",33),l.Yb(200,"mat-checkbox",49),l.Mc(201,"Enviar Correo electronico al Jefe?"),l.Xb(),l.Xb(),l.Xb(),l.Yb(202,"button",50),l.Mc(203,"Crear orden"),l.Xb(),l.Xb(),l.Kc(204,Ee,3,1,"div",51),l.Xb(),l.Xb(),l.Xb()),2&e){const e=l.zc(7),a=l.zc(171);l.Eb(6),l.qc("formGroup",t.reactiveForm2),l.Eb(8),l.qc("ngIf",t.reactiveForm2.get("nombre").invalid),l.Eb(6),l.qc("ngIf",t.reactiveForm2.get("descripcion").invalid),l.Eb(6),l.qc("ngForOf",t.UsersStatusProponente||l.sc(49,De)),l.Eb(1),l.qc("ngIf",t.reactiveForm2.get("proponente").invalid),l.Eb(6),l.qc("ngForOf",t.UsersStatus||l.sc(50,De)),l.Eb(1),l.qc("ngIf",t.reactiveForm2.get("AsignadoA").invalid),l.Eb(5),l.qc("items",t.petsData),l.Eb(1),l.qc("ngIf",t.reactiveForm2.get("nombreDelPet").invalid),l.Eb(22),l.qc("ngIf",t.reactiveForm2.get("pasoTPM").invalid),l.Eb(5),l.qc("items",t.puestodetrabajoData),l.Eb(1),l.qc("ngIf",t.reactiveForm2.get("responsableDelPuestoDetrabajo").invalid),l.Eb(6),l.qc("ngIf",t.reactiveForm2.get("responsableEjecutor").invalid),l.Eb(5),l.qc("items",t.maquinasData),l.Eb(1),l.qc("ngIf",t.reactiveForm2.get("codigoDelEquipo").invalid),l.Eb(5),l.qc("items",t.ubcacionTecnicaData)("ngModel",t.ubicacionTecnica),l.Eb(1),l.qc("ngIf",t.reactiveForm2.get("ubicacionTecnica").invalid),l.Eb(6),l.qc("ngIf",t.reactiveForm2.get("CodigoNormaDeLiquidacion").invalid),l.Eb(6),l.qc("ngForOf",t.ClaseDeActividad||l.sc(51,De)),l.Eb(1),l.qc("ngIf",t.reactiveForm2.get("claseDeActividadID").invalid),l.Eb(5),l.qc("allowNegative","false")("currencyCode","COP"),l.Eb(1),l.qc("ngIf",t.reactiveForm2.get("costomaterial").invalid),l.Eb(5),l.qc("allowNegative","false")("currencyCode","COP"),l.Eb(1),l.qc("ngIf",t.reactiveForm2.get("costomanodeobra").invalid),l.Eb(5),l.qc("allowNegative","false")("currencyCode","COP"),l.Eb(1),l.qc("ngIf",t.reactiveForm2.get("costoservicios").invalid),l.Eb(5),l.qc("value",t.costoTotal)("allowNegative","false")("currencyCode","COP"),l.Eb(37),l.qc("allowNegative","false")("currencyCode","COP"),l.Eb(6),l.qc("ngIf",t.reactiveForm2.get("duraciondelTrabajo").invalid),l.Eb(3),l.qc("matDatepicker",a),l.Eb(1),l.qc("for",a),l.Eb(3),l.qc("ngIf",t.reactiveForm2.get("fechaInicio").invalid),l.Eb(5),l.qc("value",l.nc(178,46,t.fechaFinal,"dd/MM/yyyy")),l.Eb(7),l.qc("ngForOf",t.LineaData||l.sc(52,De)),l.Eb(6),l.qc("ngForOf",t.vHornoResultData||l.sc(53,De)),l.Eb(7),l.qc("ngForOf",t.ClasificacionData||l.sc(54,De)),l.Eb(1),l.qc("ngIf",t.reactiveForm2.get("clasificacion").invalid),l.Eb(4),l.qc("disabled",t.submitted||!e.valid),l.Eb(2),l.qc("ngIf",t.showMessages.error&&(null==t.errors?null:t.errors.length)&&!t.submitted)}},directives:[T.a,F.c,F.a,x.a,x.c,s.x,s.q,s.j,F.d,b.c,b.g,m.b,s.c,s.p,s.h,s.v,u.n,K.b,d.a,u.m,_.a,p.n,B,$.b,$.d,b.i,$.a,H.a,h.b,b.b],pipes:[u.f],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();function qe(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"ingrese un nombre "),l.Xb())}function ye(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"ingrese un nombre "),l.Xb())}function Ae(e,t){if(1&e&&(l.Yb(0,"mat-option",58),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.id),l.Eb(1),l.Nc(e.fullName)}}function Se(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"seleccione un proponente "),l.Xb())}function Ie(e,t){if(1&e&&(l.Yb(0,"mat-option",58),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.code),l.Eb(1),l.Nc(e.name)}}function Ne(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"el estado de la orden"),l.Xb())}function Te(e,t){if(1&e&&(l.Yb(0,"mat-option",58),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.id),l.Eb(1),l.Nc(e.fullName)}}function Fe(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione una persona"),l.Xb())}function xe(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione un pet "),l.Xb())}function je(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione un paso tpm "),l.Xb())}function Pe(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione un responsable "),l.Xb())}function we(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"este campo es requerido"),l.Xb())}function ze(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione un equipo "),l.Xb())}function Je(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"selecione una opcion "),l.Xb())}function Le(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"ingrese un nombre "),l.Xb())}function Ge(e,t){if(1&e&&(l.Yb(0,"mat-option",58),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.id),l.Eb(1),l.Nc(e.nombre)}}function ke(e,t){1&e&&l.Tb(0,"mat-error")}function Ze(e,t){1&e&&l.Tb(0,"mat-error")}function Re(e,t){1&e&&l.Tb(0,"mat-error")}function Ue(e,t){1&e&&l.Tb(0,"mat-error")}function Ke(e,t){1&e&&l.Tb(0,"mat-error")}function _e(e,t){1&e&&(l.Yb(0,"mat-error"),l.Mc(1,"Seleccione una fecha "),l.Xb())}function Be(e,t){if(1&e&&(l.Yb(0,"mat-option",58),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.id),l.Eb(1),l.Nc(e.descripcion)}}function Ve(e,t){if(1&e&&(l.Yb(0,"mat-option",58),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.id),l.Eb(1),l.Nc(e.descripcion)}}function $e(e,t){if(1&e&&(l.Yb(0,"mat-option",58),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.qc("value",e.id),l.Eb(1),l.Nc(e.nombre)}}function He(e,t){if(1&e&&(l.Yb(0,"li",62),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.Eb(1),l.Nc(e)}}function Qe(e,t){if(1&e&&(l.Yb(0,"div",59),l.Yb(1,"ul",60),l.Kc(2,He,2,1,"li",61),l.Xb(),l.Xb()),2&e){const e=l.kc(2);l.Eb(2),l.qc("ngForOf",e.errors)}}const We=function(){return[]};function et(e,t){if(1&e){const e=l.Zb();l.Yb(0,"div"),l.Yb(1,"form",3,4),l.gc("ngSubmit",(function(){return l.Cc(e),l.kc().onSubmitOrderzmej()})),l.Yb(3,"div",5),l.Yb(4,"div",6),l.Yb(5,"mat-form-field"),l.Yb(6,"mat-label"),l.Mc(7,"NOMBRE DE LA PROPUESTA"),l.Xb(),l.Tb(8,"input",7),l.Kc(9,qe,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(10,"div",6),l.Yb(11,"mat-form-field"),l.Yb(12,"mat-label"),l.Mc(13,"DESCRIPCION DETALLADA DE LA PROPUESTA"),l.Xb(),l.Tb(14,"textarea",8),l.Kc(15,ye,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(16,"div",9),l.Yb(17,"mat-form-field"),l.Yb(18,"mat-label"),l.Mc(19,"PROPONENTE"),l.Xb(),l.Yb(20,"mat-select",10),l.Kc(21,Ae,2,2,"mat-option",11),l.Xb(),l.Kc(22,Se,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(23,"div",9),l.Yb(24,"mat-form-field"),l.Yb(25,"mat-label"),l.Mc(26,"Estado"),l.Xb(),l.Yb(27,"mat-select",12),l.gc("selectionChange",(function(t){return l.Cc(e),l.kc().GetAllUserByStatusCode(t.value)})),l.Kc(28,Ie,2,2,"mat-option",11),l.Xb(),l.Kc(29,Ne,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(30,"div",9),l.Yb(31,"mat-form-field"),l.Yb(32,"mat-label"),l.Mc(33,"JEFE DE MANTENIMIENTO"),l.Xb(),l.Yb(34,"mat-select",13),l.Kc(35,Te,2,2,"mat-option",11),l.Xb(),l.Kc(36,Fe,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(37,"div",6),l.Yb(38,"mat-form-field"),l.Yb(39,"mat-label"),l.Mc(40,"Nombre ET"),l.Xb(),l.Tb(41,"mtx-select",14),l.Kc(42,xe,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(43,"div",6),l.Yb(44,"mat-form-field"),l.Yb(45,"mat-label"),l.Mc(46,"PASO TPM"),l.Xb(),l.Yb(47,"mat-select",15),l.Yb(48,"mat-option",16),l.Mc(49,"0"),l.Xb(),l.Yb(50,"mat-option",17),l.Mc(51,"1"),l.Xb(),l.Yb(52,"mat-option",18),l.Mc(53,"2"),l.Xb(),l.Yb(54,"mat-option",19),l.Mc(55,"3"),l.Xb(),l.Yb(56,"mat-option",20),l.Mc(57,"4"),l.Xb(),l.Yb(58,"mat-option",21),l.Mc(59,"5"),l.Xb(),l.Yb(60,"mat-option",22),l.Mc(61,"6"),l.Xb(),l.Yb(62,"mat-option",23),l.Mc(63,"7"),l.Xb(),l.Xb(),l.Kc(64,je,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(65,"div",6),l.Yb(66,"mat-form-field"),l.Yb(67,"mat-label"),l.Mc(68,"JEFE DE L\xedNEA"),l.Xb(),l.Tb(69,"mtx-select",24),l.Kc(70,Pe,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(71,"div",6),l.Yb(72,"mat-form-field"),l.Yb(73,"mat-label"),l.Mc(74,"RESPONSABLE DE EJECUTAR"),l.Xb(),l.Tb(75,"input",25),l.Kc(76,we,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(77,"div",6),l.Yb(78,"mat-form-field"),l.Yb(79,"mat-label"),l.Mc(80,"CODIGO DEL EQUIPO"),l.Xb(),l.Yb(81,"mtx-select",26),l.gc("ngModelChange",(function(t){return l.Cc(e),l.kc().onChangeMaquina(t)})),l.Xb(),l.Kc(82,ze,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(83,"div",6),l.Yb(84,"mat-form-field"),l.Yb(85,"mat-label"),l.Mc(86,"UBICACI\xd3N TECNICA"),l.Xb(),l.Yb(87,"mtx-select",27),l.gc("ngModelChange",(function(t){return l.Cc(e),l.kc().onChangeUbicacion(t)}))("ngModelChange",(function(t){return l.Cc(e),l.kc().ubicacionTecnica=t})),l.Xb(),l.Kc(88,Je,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(89,"div",6),l.Yb(90,"mat-form-field"),l.Yb(91,"mat-label"),l.Mc(92,"# CeCo "),l.Xb(),l.Tb(93,"input",28),l.Kc(94,Le,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(95,"div",6),l.Yb(96,"mat-form-field"),l.Yb(97,"mat-label"),l.Mc(98,"CLASE DE ACTIVIDAD"),l.Xb(),l.Yb(99,"mat-select",29),l.Kc(100,Ge,2,2,"mat-option",11),l.Xb(),l.Kc(101,ke,1,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(102,"div",30),l.Yb(103,"mat-form-field"),l.Yb(104,"mat-label"),l.Mc(105,"Costo Material"),l.Xb(),l.Yb(106,"input",31),l.gc("change",(function(t){return l.Cc(e),l.kc().changeCosto(t)}))("blur",(function(t){return l.Cc(e),l.kc().updateUSAmount(t)})),l.Xb(),l.Kc(107,Ze,1,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(108,"div",30),l.Yb(109,"mat-form-field"),l.Yb(110,"mat-label"),l.Mc(111,"Costo Mano de Obra"),l.Xb(),l.Yb(112,"input",32),l.gc("change",(function(t){return l.Cc(e),l.kc().changeCosto(t)}))("blur",(function(t){return l.Cc(e),l.kc().updateUSAmount(t)})),l.Xb(),l.Kc(113,Re,1,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(114,"div",30),l.Yb(115,"mat-form-field"),l.Yb(116,"mat-label"),l.Mc(117,"Costo de Servicios"),l.Xb(),l.Yb(118,"input",33),l.gc("change",(function(t){return l.Cc(e),l.kc().changeCosto(t)}))("blur",(function(t){return l.Cc(e),l.kc().updateUSAmount(t)})),l.Xb(),l.Kc(119,Ue,1,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(120,"div",30),l.Yb(121,"mat-form-field"),l.Yb(122,"mat-label"),l.Mc(123,"Costo Total"),l.Xb(),l.Tb(124,"input",34),l.Xb(),l.Xb(),l.Yb(125,"div",30),l.Yb(126,"mat-form-field"),l.Yb(127,"mat-label"),l.Mc(128,"Costo Real"),l.Xb(),l.Yb(129,"input",35),l.gc("blur",(function(t){return l.Cc(e),l.kc().updateUSAmount(t)})),l.Xb(),l.Xb(),l.Xb(),l.Yb(130,"div",30),l.Yb(131,"mat-form-field"),l.Yb(132,"mat-label"),l.Mc(133,"Valor Comprometido"),l.Xb(),l.Yb(134,"input",36),l.gc("blur",(function(t){return l.Cc(e),l.kc().updateUSAmount(t)})),l.Xb(),l.Xb(),l.Xb(),l.Yb(135,"div",9),l.Yb(136,"mat-form-field"),l.Yb(137,"mat-label"),l.Mc(138,"Con la mejora quedan repuestos obsoletos?"),l.Xb(),l.Yb(139,"mat-select",37),l.Yb(140,"mat-option",38),l.Mc(141,"SI"),l.Xb(),l.Yb(142,"mat-option",39),l.Mc(143,"No"),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(144,"div",9),l.Yb(145,"mat-form-field"),l.Yb(146,"mat-label"),l.Mc(147,"se cambia la planificacion de los repuestos?"),l.Xb(),l.Yb(148,"mat-select",40),l.Yb(149,"mat-option",38),l.Mc(150,"SI"),l.Xb(),l.Yb(151,"mat-option",39),l.Mc(152,"No"),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(153,"div",9),l.Yb(154,"mat-form-field"),l.Yb(155,"mat-label"),l.Mc(156,"se matriculan nuevas referencias? "),l.Xb(),l.Yb(157,"mat-select",41),l.Yb(158,"mat-option",38),l.Mc(159,"SI"),l.Xb(),l.Yb(160,"mat-option",39),l.Mc(161,"No"),l.Xb(),l.Xb(),l.Xb(),l.Xb(),l.Yb(162,"div",6),l.Yb(163,"mat-form-field"),l.Yb(164,"mat-label"),l.Mc(165,"BENEFICIO CUALITATIVO"),l.Xb(),l.Tb(166,"textarea",42),l.Xb(),l.Xb(),l.Yb(167,"div",6),l.Yb(168,"mat-form-field"),l.Yb(169,"mat-label"),l.Mc(170,"BENEFICIO CUANTITATIVO $"),l.Xb(),l.Tb(171,"input",43),l.Xb(),l.Xb(),l.Yb(172,"div",9),l.Yb(173,"mat-form-field"),l.Yb(174,"mat-label"),l.Mc(175,"DURACION DEL TRABAJO (DIAS)"),l.Xb(),l.Yb(176,"input",44),l.gc("change",(function(){return l.Cc(e),l.kc().setDate()})),l.Xb(),l.Kc(177,Ke,1,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(178,"div",9),l.Yb(179,"mat-form-field"),l.Yb(180,"input",45),l.gc("dateChange",(function(t){return l.Cc(e),l.kc().addEvent("change",t)})),l.Xb(),l.Tb(181,"mat-datepicker-toggle",46),l.Tb(182,"mat-datepicker",null,47),l.Kc(184,_e,2,0,"mat-error",2),l.Xb(),l.Xb(),l.Yb(185,"div",9),l.Yb(186,"mat-form-field"),l.Yb(187,"mat-label"),l.Mc(188,"Fecha Final"),l.Xb(),l.Tb(189,"input",48),l.lc(190,"date"),l.Xb(),l.Xb(),l.Yb(191,"div",9),l.Yb(192,"mat-form-field"),l.Yb(193,"mat-label"),l.Mc(194,"Linea "),l.Xb(),l.Yb(195,"mat-select",49),l.gc("ngModelChange",(function(t){return l.Cc(e),l.kc().onChangeLinea(t)})),l.Kc(196,Be,2,2,"mat-option",11),l.Xb(),l.Xb(),l.Xb(),l.Yb(197,"div",9),l.Yb(198,"mat-form-field"),l.Yb(199,"mat-label"),l.Mc(200,"Horno "),l.Xb(),l.Yb(201,"mat-select",50),l.Kc(202,Ve,2,2,"mat-option",11),l.Xb(),l.Xb(),l.Xb(),l.Yb(203,"div",9),l.Yb(204,"mat-form-field"),l.Yb(205,"mat-label"),l.Mc(206,"Clasificaci\xf3n"),l.Xb(),l.Yb(207,"mat-select",51),l.Tb(208,"mat-option",16),l.Kc(209,$e,2,2,"mat-option",11),l.Xb(),l.Xb(),l.Xb(),l.Yb(210,"div",9),l.Yb(211,"mat-form-field"),l.Yb(212,"mat-label"),l.Mc(213,"Orden de Manteniento"),l.Xb(),l.Tb(214,"input",52),l.Xb(),l.Xb(),l.Yb(215,"div",53),l.Yb(216,"mat-form-field"),l.Yb(217,"mat-label"),l.Mc(218,"Nota de matenimiento"),l.Xb(),l.Tb(219,"textarea",54),l.Xb(),l.Xb(),l.Yb(220,"div",9),l.Yb(221,"mat-checkbox",55),l.Mc(222,"Enviar Correo electronico al Jefe?"),l.Xb(),l.Xb(),l.Xb(),l.Yb(223,"button",56),l.Mc(224,"Actualizar Orden"),l.Xb(),l.Xb(),l.Kc(225,Qe,3,1,"div",57),l.Xb()}if(2&e){const e=l.zc(2),t=l.zc(183),a=l.kc();l.Eb(1),l.qc("formGroup",a.reactiveForm2),l.Eb(8),l.qc("ngIf",a.reactiveForm2.get("nombre").invalid),l.Eb(6),l.qc("ngIf",a.reactiveForm2.get("descripcion").invalid),l.Eb(6),l.qc("ngForOf",a.UsersStatusProponente||l.sc(54,We)),l.Eb(1),l.qc("ngIf",a.reactiveForm2.get("proponente").invalid),l.Eb(6),l.qc("ngForOf",a.FlujoData||l.sc(55,We)),l.Eb(1),l.qc("ngIf",a.reactiveForm2.get("estado").invalid),l.Eb(6),l.qc("ngForOf",a.UsersStatus||l.sc(56,We)),l.Eb(1),l.qc("ngIf",a.reactiveForm2.get("AsignadoA").invalid),l.Eb(5),l.qc("items",a.petsData),l.Eb(1),l.qc("ngIf",a.reactiveForm2.get("nombreDelPet").invalid),l.Eb(22),l.qc("ngIf",a.reactiveForm2.get("pasoTPM").invalid),l.Eb(5),l.qc("items",a.puestodetrabajoData),l.Eb(1),l.qc("ngIf",a.reactiveForm2.get("responsableDelPuestoDetrabajo").invalid),l.Eb(6),l.qc("ngIf",a.reactiveForm2.get("responsableEjecutor").invalid),l.Eb(5),l.qc("items",a.maquinasData),l.Eb(1),l.qc("ngIf",a.reactiveForm2.get("codigoDelEquipo").invalid),l.Eb(5),l.qc("items",a.ubcacionTecnicaData)("ngModel",a.ubicacionTecnica),l.Eb(1),l.qc("ngIf",a.reactiveForm2.get("ubicacionTecnica").invalid),l.Eb(6),l.qc("ngIf",a.reactiveForm2.get("CodigoNormaDeLiquidacion").invalid),l.Eb(6),l.qc("ngForOf",a.ClaseDeActividad||l.sc(57,We)),l.Eb(1),l.qc("ngIf",a.reactiveForm2.get("claseDeActividadID").invalid),l.Eb(5),l.qc("allowNegative","false")("currencyCode","COP"),l.Eb(1),l.qc("ngIf",a.reactiveForm2.get("costomaterial").invalid),l.Eb(5),l.qc("allowNegative","false")("currencyCode","COP"),l.Eb(1),l.qc("ngIf",a.reactiveForm2.get("costomanodeobra").invalid),l.Eb(5),l.qc("allowNegative","false")("currencyCode","COP"),l.Eb(1),l.qc("ngIf",a.reactiveForm2.get("costoservicios").invalid),l.Eb(5),l.qc("value",a.costoTotal)("allowNegative","false")("currencyCode","COP"),l.Eb(5),l.qc("allowNegative","false")("currencyCode","COP"),l.Eb(5),l.qc("allowNegative","false")("currencyCode","COP"),l.Eb(37),l.qc("allowNegative","false")("currencyCode","COP"),l.Eb(6),l.qc("ngIf",a.reactiveForm2.get("duraciondelTrabajo").invalid),l.Eb(3),l.qc("matDatepicker",t),l.Eb(1),l.qc("for",t),l.Eb(3),l.qc("ngIf",a.reactiveForm2.get("fechaInicio").invalid),l.Eb(5),l.qc("value",l.nc(190,51,a.fechaFinal,"dd/MM/yyyy")),l.Eb(7),l.qc("ngForOf",a.LineaData||l.sc(58,We)),l.Eb(6),l.qc("ngForOf",a.vHornoResultData||l.sc(59,We)),l.Eb(7),l.qc("ngForOf",a.ClasificacionData||l.sc(60,We)),l.Eb(14),l.qc("disabled",a.submitted||!e.valid),l.Eb(2),l.qc("ngIf",a.showMessages.error&&(null==a.errors?null:a.errors.length)&&!a.submitted)}}let tt=(()=>{class e{constructor(e,t,a,i,o,r){this.fb=e,this.route=t,this.authService=a,this.authorizationService=i,this.router=o,this.dateAdapter=r,this.isAuthenticated=!1,this.orderZMEJ={},this.errors=[],this.showMessages={},this.loading=!1,this.NormaDeLiquidacionData=[],this.LineaData=[],this.vHornoResultData=[],this.HornoData=[],this.maquinasData=[],this.ClasificacionData=[],this.ubcacionTecnicaData=[],this.FlujoData=[],this.submitted=!1,this.alive=!0,this.ubicacionTecnica="",this.codigoDelEquipo="",this.costoTotal=0,this.show_form=!1,this.usAmount=0,this.dateAdapter.setLocale("en-GB"),this.showMessages={success:!0,error:!0},this.reactiveForm2=this.fb.group({id:null,nombre:["",[s.w.required]],descripcion:["",[s.w.required]],proponente:["",[s.w.required]],AsignadoA:["",[s.w.required]],nombreDelPet:[""],pasoTPM:[""],responsableDelPuestoDetrabajo:[""],responsableEjecutor:[""],codigoDelEquipo:[""],descripcionDelEquipo:[""],ubicacionTecnica:[""],descripcionDeUbicacionTecnica:[""],NormaDeLiquidacionId:["1"],CodigoNormaDeLiquidacion:[""],claseDeActividadID:[""],costomaterial:["0"],costomanodeobra:["0"],costoservicios:["0"],valcomprometido:["0"],costoPlaneado:["0"],beneficioCualitativo:"",beneficioCuantitativo:0,duraciondelTrabajo:["0"],fechaInicio:[""],pregunta1:"",pregunta2:"",pregunta3:"",estado:[0],linea:"",horno:"",costoreal:0,ordenMantenimiento:"",notaMantenimiento:"",clasificacion:"0",enviarCorreo:!1}),a.isLoggedIn()&&(this.isAuthenticated=!0,this.GetAllClaseDeActividad(),this.GetAllNormaDeLiquidacion(),this.GetAllUserValidador(),this.GetAllProponente(),this.GetAllMaquinas(),this.GetAllPets(),this.GetAllPuestoDeTrabajos(),this.GetAllUbicacionTecnica(),this.GetAllGrupoPlanificador(),this.GetAllResCrontrolProd(),this.GetAllStatusCode(),this.GetAllClasificacion(),this.delayAndShow())}ngOnInit(){this.route.paramMap.subscribe(e=>{this.getOrderZMEJjById(e.get("id"))})}onChangeLinea(e){try{this.reactiveForm2.controls.horno.setValue(""),this.vHornoResultData=this.HornoData.filter(t=>t.resControlProdId===e)}catch(t){}}GetAllClasificacion(){try{this.authorizationService.get("ZMEJ.api/clasificacion/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ClasificacionData=e.body})}catch(e){console.log(e)}}getOrderZMEJjById(e){try{this.loading=!0,this.authorizationService.get("api/OrderZMEJ/findbyid/"+e).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.loading=!1,this.orderZMEJ=e.body,this.SetOrderForm()})}catch(t){this.loading=!1,console.log(t)}}SetOrderForm(){try{null!=this.orderZMEJ&&(console.log(this.orderZMEJ),this.reactiveForm2.patchValue({id:this.orderZMEJ.id,nombre:this.orderZMEJ.nombre,descripcion:this.orderZMEJ.descripcion,proponente:this.orderZMEJ.proponente,AsignadoA:this.orderZMEJ.asignadoA,nombreDelPet:this.orderZMEJ.nombreDelPet,pasoTPM:this.orderZMEJ.pasoTPM,responsableDelPuestoDetrabajo:this.orderZMEJ.responsableDelPuestoDetrabajo,responsableEjecutor:this.orderZMEJ.responsableEjecutor,codigoDelEquipo:this.orderZMEJ.codigoDelEquipo,descripcionDelEquipo:this.orderZMEJ.descripcionDelEquipo,ubicacionTecnica:this.orderZMEJ.ubicacionTecnica,descripcionDeUbicacionTecnica:this.orderZMEJ.descripcionDeUbicacionTecnica,CodigoNormaDeLiquidacion:this.orderZMEJ.codigoNormaDeLiquidacion,claseDeActividadID:this.orderZMEJ.claseDeActividadID,costomaterial:this.orderZMEJ.costoMaterial,costomanodeobra:this.orderZMEJ.costomanodeobra,costoservicios:this.orderZMEJ.costoServicios,valcomprometido:this.orderZMEJ.valComprometido,costoPlaneado:this.orderZMEJ.costoPlaneado,beneficioCualitativo:this.orderZMEJ.beneficioCualitativo,beneficioCuantitativo:this.orderZMEJ.beneficioCuantitativo,duraciondelTrabajo:this.orderZMEJ.duraciondelTrabajo,fechaInicio:this.orderZMEJ.fechaInicio,pregunta1:this.orderZMEJ.pregunta1,pregunta2:this.orderZMEJ.pregunta2,pregunta3:this.orderZMEJ.pregunta3,ordenMantenimiento:this.orderZMEJ.ordenMantenimiento,notaMantenimiento:this.orderZMEJ.notaMantenimiento,linea:this.orderZMEJ.linea,horno:this.orderZMEJ.horno,costoreal:this.orderZMEJ.costoReal,estado:this.orderZMEJ.estado,clasificacion:this.orderZMEJ.clasificacion,enviarCorreo:!1}),this.changeCosto(0),this.ubicacionTecnica=this.orderZMEJ.ubicacionTecnica,this.fechaFinal=this.orderZMEJ.fechaFin,this.GetAllUserByStatusCode(this.orderZMEJ.estado),this.onChangeUbicacion(this.orderZMEJ.ubicacionTecnica))}catch(e){}}delayAndShow(){try{setTimeout(()=>{this.show_form=!0,console.log(this.show_form)},3e3)}catch(e){}}GetAllUserValidador(){this.authorizationService.get("api/RoleStatusCode/getUserByCode/2/"+C.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatus=e.body},e=>{})}GetAllProponente(){this.authorizationService.get("api/RoleStatusCode/getUserByCode/1/"+C.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatusProponente=e.body},e=>{})}GetAllNormaDeLiquidacion(){this.authorizationService.get("ZMEJ.api/NormaDeLiquidacion/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.NormaDeLiquidacionData=e.body},e=>{})}GetAllClaseDeActividad(){this.authorizationService.get("ZMEJ.api/ClaseDeActividad/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ClaseDeActividad=e.body},e=>{})}GetAllPets(){this.authorizationService.get("maestrassip.api/pets/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.petsData=e.body},e=>{})}GetAllResCrontrolProd(){this.authorizationService.get("zmej.api/resctrlproduccion/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.LineaData=e.body},e=>{})}GetAllUserByStatusCode(e){try{this.loading=!0,this.authorizationService.get("api/RoleStatusCode/getUserByCode/"+e+"/"+C.a.aplicationId).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.UsersStatus=e.body,this.loading=!1},e=>{})}catch(t){this.loading=!1}}GetAllStatusCode(){try{this.authorizationService.get("zmej.api/statuscode/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.FlujoData=e.body})}catch(e){console.log(e)}}GetAllGrupoPlanificador(){this.authorizationService.get("zmej.api/grupoPlanificador/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.HornoData=e.body,this.vHornoResultData=this.HornoData},e=>{})}GetAllMaquinas(){this.maquinasData=[],this.authorizationService.get("zmej.api/maquinas/getall").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.maquinasData=e.body},e=>{})}GetAllUbicacionTecnica(){this.authorizationService.get("zmej.api/ubicacionTecnica/getallactive").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.ubcacionTecnicaData=e.body},e=>{})}GetAllPuestoDeTrabajos(){this.authorizationService.get("zmej.api/puestodetrabajo/getallactive").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.puestodetrabajoData=e.body},e=>{})}onSubmitOrderzmej(){this.errors=[],this.messages=[],this.submitted=!0;try{this.authorizationService.post("api/OrderZMEJ/update",this.reactiveForm2.value).pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{200==e.status?(console.log("redirect..."),this.messages[0]="datos guardados correctamente",setTimeout(()=>this.router.navigateByUrl("/orders/zmej"),this.redirectDelay)):403==e.status?(this.submitted=!1,this.errors[0]="No tienes permiso para realizar esta acci\xf3n"):(this.submitted=!1,this.errors[0]=e.error,console.log(e.error))},e=>{this.submitted=!1,this.errors=e})}catch(e){console.log(e),this.submitted=!1}}onChangeUbicacion(e){try{console.log(e),this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue("");let t=this.ubcacionTecnicaData.filter(t=>t.ubicacion===e);null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue(t[0].descripcion))}catch(t){console.log("error en ubicacion tecnica")}}onChangeMaquina(e){try{this.reactiveForm2.controls.descripcionDelEquipo.setValue("");let t=this.maquinasData.filter(t=>t.maquina===e);null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDelEquipo.setValue(t[0].descripcion))}catch(t){console.log("error en onChangeMaquina ")}}changeCosto(e){try{let e=this.reactiveForm2.get("costoservicios"),o=this.reactiveForm2.get("costomanodeobra"),r=this.reactiveForm2.get("costomaterial");var t=+e.value,a=+o.value,i=+r.value;console.log(t),console.log(a),this.costoTotal=t+a+i}catch(o){}}numberFormat(e){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(e)}updateUSAmount(e){this.usAmount=e.target.value}setDate(){try{let e=this.reactiveForm2.get("fechaInicio").value,t=+this.reactiveForm2.get("duraciondelTrabajo").value,a=new Date(e);new Date,console.log(a),this.fechaFinal=this.addDays(a,t)}catch(e){}}addDays(e,t){return e.setDate(e.getDate()+t),e}addEvent(e,t){this.setDate()}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(s.e),l.Sb(o.a),l.Sb(c.b),l.Sb(c.c),l.Sb(o.f),l.Sb(p.c))},e.\u0275cmp=l.Mb({type:e,selectors:[["ngx-orderzmej"]],decls:7,vars:1,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],[4,"ngIf"],[1,"form-field-full",3,"formGroup","ngSubmit"],["form","ngForm"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],["matInput","","placeholder","nombre de la propuesta","formControlName","nombre","required",""],["matInput","","cdkTextareaAutosize","","formControlName","descripcion","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["fxFlex","33.3","fxFlex.lt-sm","100"],["required","","formControlName","proponente","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","estado","required","",3,"selectionChange"],["required","","formControlName","AsignadoA","required",""],["bindLabel","descripcion","bindValue","descripcion","autofocus","","formControlName","nombreDelPet",3,"items"],["formControlName","pasoTPM"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["bindLabel","fullDescripcion","bindValue","fullDescripcion","autofocus","","formControlName","responsableDelPuestoDetrabajo",3,"items"],["matInput","","placeholder","Simple placeholder","type","text","formControlName","responsableEjecutor"],["bindLabel","fullDescripcion","bindValue","maquina","autofocus","","formControlName","codigoDelEquipo",3,"items","ngModelChange"],["bindLabel","fullDescripcion","bindValue","fullDescripcion","autofocus","","formControlName","ubicacionTecnica",3,"items","ngModel","ngModelChange"],["matInput","","placeholder","nombre","formControlName","CodigoNormaDeLiquidacion"],["formControlName","claseDeActividadID"],["fxFlex","20","fxFlex.lt-sm","100"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomaterial","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","change","blur"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomanodeobra","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","change","blur"],["matInput","","placeholder","Costo Material","type","text","formControlName","costoservicios","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","change","blur"],["matInput","","mvndrMatCurrencyFormat","","formControlName","costoPlaneado","readonly","",3,"value","allowNegative","currencyCode"],["matInput","","placeholder","Costo Real","type","text","formControlName","costoreal","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","blur"],["matInput","","placeholder","Costo Real","type","text","formControlName","valcomprometido","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","blur"],["formControlName","pregunta1"],["value","Si"],["value","No"],["formControlName","pregunta2"],["formControlName","pregunta3"],["matInput","","cdkTextareaAutosize","","formControlName","beneficioCualitativo","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["matInput","","placeholder","beneficioCuantitativo","mvndrMatCurrencyFormat","","formControlName","beneficioCuantitativo",3,"allowNegative","currencyCode"],["matInput","","placeholder","","formControlName","duraciondelTrabajo",3,"change"],["matInput","","placeholder","Fecha de inicio","formControlName","fechaInicio",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","",3,"value"],["formControlName","linea",3,"ngModelChange"],["formControlName","horno"],["formControlName","clasificacion"],["matInput","","placeholder","Orden","type","text","formControlName","ordenMantenimiento"],["fxFlex","66.3","fxFlex.lt-sm","100"],["matInput","","cdkTextareaAutosize","","formControlName","notaMantenimiento","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["id","amateur","color","primary","formControlName","enviarCorreo",1,"amateur"],["mat-raised-button","","color","primary",1,"m-t-8",3,"disabled"],["class","m-t-16","outline","danger",4,"ngIf"],[3,"value"],["outline","danger",1,"m-t-16"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"]],template:function(e,t){1&e&&(l.Tb(0,"page-header"),l.Yb(1,"div",0),l.Yb(2,"div",1),l.Yb(3,"mat-card"),l.Yb(4,"mat-card-title"),l.Mc(5,"Editar Orden "),l.Xb(),l.Kc(6,et,226,61,"div",2),l.Xb(),l.Xb(),l.Xb()),2&e&&(l.Eb(6),l.qc("ngIf",t.show_form&&null!=t.orderZMEJ&&null!=t.orderZMEJ.id))},directives:[T.a,F.c,F.a,x.a,x.c,u.n,s.x,s.q,s.j,F.d,b.c,b.g,m.b,s.c,s.p,s.h,s.v,K.b,d.a,u.m,_.a,p.n,B,$.b,$.d,b.i,$.a,H.a,h.b,b.b],pipes:[u.f],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();function at(e,t){if(1&e&&(l.Yb(0,"mat-option",8),l.Mc(1),l.Xb()),2&e){const e=t.$implicit;l.rc("value",e.code),l.Eb(1),l.Nc(e.name)}}const it=function(){return[5,10,20]},ot=[{path:"zmej",component:U,data:{title:"Ordenes"}},{path:"my_orders",component:(()=>{class e{constructor(e,t,a,i,o,r,c){this.authService=e,this.pagerService=t,this.datePipe=a,this.currencyPipe=i,this.cdr=o,this.authorizationService=r,this._router=c,this.FlujoData=[],this.isAuthenticated=!1,this.alive=!0,this.columns=[{header:"Orden",field:"ordenMantenimiento",width:"100px"},{header:"Nombre",field:"Nombre",formatter:e=>`<span class="sortable" (click)="viewOrderzmejDetail(${e.id})">${e.nombre}</span>`},{header:"ET",field:"nombreDelPet"},{header:"Costo Real",field:"costoReal",formatter:e=>""+this.currencyPipe.transform(e.costoReal,"","symbol","1.0-0")},{header:"Costo Planeado",field:"costoPlaneado",formatter:e=>""+this.currencyPipe.transform(e.costoPlaneado,"","symbol","1.0-0")},{header:"Estado",field:"nombreEstado"},{header:"Clasificaci\xf3n",field:"nombreClasificacion"},{header:"Fecha de inicio",field:"fechaInicio",formatter:e=>""+this.datePipe.transform(e.fechaInicio,"dd/MM/yyyy")},{header:"codigo del equipo",field:"codigoDelEquipo"},{header:"Descripcion del equipo",field:"descripcionDelEquipo"},{header:"Option",field:"option",width:"120px",pinned:"right",right:"0px",type:"button",buttons:[{type:"icon",text:"Ver detalle",icon:"visibility",tooltip:"Ver detalle",click:e=>this.viewOrderzmejDetail(e)},{icon:"edit",tooltip:"Editar",type:"icon",click:e=>this.EditOrderzmejDetail(e)}]}],this.list=[],this.total=0,this.isLoading=!0,this.query={q:"",sort:"stars",name:"0",page:0,per_page:10},e.isLoggedIn()&&(this.isAuthenticated=!0,this.GetAllMyOrderZMEJ(),this.GetAllStatusCode())}ngOnInit(){}GetAllStatusCode(){try{this.authorizationService.get("zmej.api/statuscode/getAll").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.FlujoData=e.body})}catch(e){console.log(e)}}GetAllMyOrderZMEJ(){try{this.authorizationService.get("zmej.api/OrderZMEJ/getAllAssigned").pipe(Object(r.a)(()=>this.alive)).subscribe(e=>{this.OrderData=e.body,null!=this.OrderData&&(this.setpage(),this.total=this.OrderData.length,this.cdr.detectChanges()),this.isLoading=!1})}catch(e){console.log(e)}}applyFilter(e){e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e}addOrderzmej(e){null==e&&this._router.navigate(["/tickets/orders/create-zmej"])}viewOrderzmejDetail(e){null!=e&&this._router.navigate(["/ordenes/order-zmej-details/"+e.id])}get params(){const e=Object.assign({},this.query);return e.page+=1,Object(G.a)(e)}getNextPage(e){this.query.page=e.pageIndex,this.query.per_page=e.pageSize,this.setpage()}search(){this.query.page=0,this.setpage()}setpage(){try{let e=this.pagerService.getPager(this.OrderData.length,this.query.page+1,this.query.per_page);this.list=this.OrderData.slice(e.startIndex,e.endIndex+1)}catch(e){}}EditOrderzmejDetail(e){null!=e&&this._router.navigate(["/ordenes/edit-zmej/"+e.id])}}return e.\u0275fac=function(t){return new(t||e)(l.Sb(c.b),l.Sb(c.e),l.Sb(u.f),l.Sb(u.d),l.Sb(l.h),l.Sb(c.c),l.Sb(o.f))},e.\u0275cmp=l.Mb({type:e,selectors:[["ngx-my-orderzmej"]],decls:14,vars:12,consts:[[1,"bg-blue-600"],[1,"m-r-8"],["matInput","","name","q","placeholder","Buscar por nombre",3,"ngModel","ngModelChange"],["name","order","placeholder","Filtrar por estado",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"m-r-8",3,"click"],[3,"data","columns","length","loading","pageOnFront","pageIndex","pageSize","pageSizeOptions","page"],[3,"value"]],template:function(e,t){1&e&&(l.Tb(0,"page-header",0),l.Yb(1,"form"),l.Yb(2,"mat-form-field",1),l.Yb(3,"input",2),l.gc("ngModelChange",(function(e){return t.query.q=e})),l.Xb(),l.Xb(),l.Yb(4,"mat-form-field",1),l.Yb(5,"mat-select",3),l.gc("ngModelChange",(function(e){return t.query.name=e})),l.Yb(6,"mat-option",4),l.Mc(7,"-- None --"),l.Xb(),l.Kc(8,at,2,2,"mat-option",5),l.Xb(),l.Xb(),l.Yb(9,"button",6),l.gc("click",(function(){return t.search()})),l.Mc(10,"Buscar"),l.Xb(),l.Yb(11,"button",6),l.gc("click",(function(){return t.addOrderzmej(null)})),l.Mc(12,"Crear nueva orden"),l.Xb(),l.Xb(),l.Yb(13,"mtx-grid",7),l.gc("page",(function(e){return t.getNextPage(e)})),l.Xb()),2&e&&(l.Eb(3),l.qc("ngModel",t.query.q),l.Eb(2),l.qc("ngModel",t.query.name),l.Eb(3),l.qc("ngForOf",t.FlujoData),l.Eb(5),l.qc("data",t.list)("columns",t.columns)("length",t.total)("loading",t.isLoading)("pageOnFront",!1)("pageIndex",t.query.page)("pageSize",t.query.per_page)("pageSizeOptions",l.sc(11,it)))},directives:[T.a,s.x,s.q,s.r,b.c,m.b,s.c,s.p,s.s,d.a,p.n,u.m,h.b,k.a],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"]}),e})()},{path:"create-zmej",component:Oe},{path:"order-zmej-details/:id",component:L},{path:"edit-zmej/:id",component:tt}];let rt=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},imports:[[o.j.forChild(ot)],o.j]}),e})(),ct=(()=>{class e{}return e.\u0275mod=l.Qb({type:e}),e.\u0275inj=l.Pb({factory:function(t){return new(t||e)},providers:[u.f,u.d],imports:[[i.a,V,rt]]}),e})()}}]);