function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"8vy2":function(e,t,a){"use strict";a.r(t),a.d(t,"FormsModule",(function(){return Mt}));var i=a("PCNd"),o=a("tyNb"),r=a("GJmQ"),n=a("ey9i"),c=a("0IaG"),l=a("3Pt+"),s=a("fXoL"),b=a("kmnG"),u=a("d3UM"),d=a("ofXK"),m=a("qFsG"),f=a("bTqV"),p=a("FKr1"),g=["class","component"];function h(e,t){if(1&e&&(s.Yb(0,"mat-option",9),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.id),s.Eb(1),s.Nc(a.fullName)}}var v,M=function(){return[]},C=((v=function(){function e(t,a,i){_classCallCheck(this,e),this.dialogRef=t,this.data=a,this.fb=i,this.vData={},this.vData=this.data.vData,console.log(this.vData),this.formConfirm=this.fb.group({id:null,Estado:[1],AsignadoA:[null,l.w.compose([l.w.required])],Observacion:""})}return _createClass(e,[{key:"cancel",value:function(){this.dialogRef.close(!1)}},{key:"submit",value:function(e,t){this.dialogRef.close({estado:!0,Observacion:e,AsignadoA:t})}}]),e}()).\u0275fac=function(e){return new(e||v)(s.Sb(c.g),s.Sb(c.a),s.Sb(l.e))},v.\u0275cmp=s.Mb({type:v,selectors:[["ngx-dialog-confirm",8,"component"]],attrs:g,decls:19,vars:6,consts:[["mat-dialog-title",""],[3,"formGroup"],["required","","formControlName","AsignadoA"],["AsignadoA",""],[3,"value",4,"ngFor","ngForOf"],[1,"demo-full-width"],["matInput","","formControlName","Observacion"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(e,t){1&e&&(s.Yb(0,"h2",0),s.Mc(1),s.Xb(),s.Yb(2,"mat-dialog-content"),s.Yb(3,"form",1),s.Yb(4,"mat-form-field"),s.Yb(5,"mat-label"),s.Mc(6,"ASIGNAR A"),s.Xb(),s.Yb(7,"mat-select",2,3),s.Kc(9,h,2,2,"mat-option",4),s.Xb(),s.Xb(),s.Yb(10,"mat-form-field",5),s.Yb(11,"mat-label"),s.Mc(12,"Observaci\xf3n"),s.Xb(),s.Tb(13,"textarea",6),s.Xb(),s.Xb(),s.Xb(),s.Yb(14,"mat-dialog-actions"),s.Yb(15,"button",7),s.gc("click",(function(){return t.cancel()})),s.Mc(16,"Cancelar"),s.Xb(),s.Yb(17,"button",8),s.Mc(18,"Aceptar"),s.Xb(),s.Xb()),2&e&&(s.Eb(1),s.Nc(t.vData.title),s.Eb(2),s.qc("formGroup",t.formConfirm),s.Eb(6),s.qc("ngForOf",t.vData.usersStatus||s.sc(5,M)),s.Eb(8),s.qc("mat-dialog-close",t.formConfirm.value)("disabled",!t.formConfirm.valid))},directives:[c.h,c.e,l.x,l.q,l.j,b.c,b.g,u.a,l.v,l.p,l.h,d.m,m.b,l.c,c.c,f.b,c.d,p.n],styles:[""]}),v),X=a("AytR"),Y=["class","component"];function y(e,t){if(1&e&&(s.Yb(0,"mat-option",11),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.code),s.Eb(1),s.Nc(a.name)}}function E(e,t){if(1&e&&(s.Yb(0,"mat-option",11),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.id),s.Eb(1),s.Nc(a.fullName)}}var D,O=function(){return[]},q=((D=function(){function e(t,a,i,o){_classCallCheck(this,e),this.dialogRef=t,this.data=a,this.fb=i,this.authorizationService=o,this.vData={},this.UsersStatus=[],this.alive=!0,this.error_message="";try{this.vData=this.data.vData,this.formReject=this.fb.group({id:null,Estado:[null,l.w.compose([l.w.required])],AsignadoA:[null,l.w.compose([l.w.required])],Observacion:""})}catch(r){}}return _createClass(e,[{key:"cancel",value:function(){this.dialogRef.close(!1)}},{key:"submit",value:function(e){console.log(this.formReject.value)}},{key:"GetuserByStatusCode",value:function(e){var t=this;try{console.log(e),this.UsersStatus=[],e>0&&this.authorizationService.get("api/RoleStatusCode/getUserByCode/"+e+"/"+X.a.aplicationId).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){t.UsersStatus=e.body}),(function(e){console.log(e),t.error_message=e}))}catch(a){}}}]),e}()).\u0275fac=function(e){return new(e||D)(s.Sb(c.g),s.Sb(c.a),s.Sb(l.e),s.Sb(n.c))},D.\u0275cmp=s.Mb({type:D,selectors:[["ngx-dialog-reject",8,"component"]],attrs:Y,decls:25,vars:9,consts:[["mat-dialog-title",""],[3,"formGroup"],["required","","name","Estado","formControlName","Estado",3,"ngModel","ngModelChange"],["Estado",""],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","AsignadoA"],["AsignadoA",""],[1,"demo-full-width"],["matInput","","formControlName","Observacion"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(e,t){1&e&&(s.Yb(0,"h2",0),s.Mc(1),s.Xb(),s.Yb(2,"mat-dialog-content"),s.Yb(3,"form",1),s.Yb(4,"mat-form-field"),s.Yb(5,"mat-label"),s.Mc(6,"ESTADO"),s.Xb(),s.Yb(7,"mat-select",2,3),s.gc("ngModelChange",(function(e){return t.vData.Estado=e}))("ngModelChange",(function(e){return t.GetuserByStatusCode(e)})),s.Kc(9,y,2,2,"mat-option",4),s.Xb(),s.Xb(),s.Yb(10,"mat-form-field"),s.Yb(11,"mat-label"),s.Mc(12,"ASIGNAR A"),s.Xb(),s.Yb(13,"mat-select",5,6),s.Kc(15,E,2,2,"mat-option",4),s.Xb(),s.Xb(),s.Yb(16,"mat-form-field",7),s.Yb(17,"mat-label"),s.Mc(18,"Observaci\xf3n"),s.Xb(),s.Tb(19,"textarea",8),s.Xb(),s.Xb(),s.Xb(),s.Yb(20,"mat-dialog-actions"),s.Yb(21,"button",9),s.gc("click",(function(){return t.cancel()})),s.Mc(22,"Cancelar"),s.Xb(),s.Yb(23,"button",10),s.Mc(24,"Aceptar"),s.Xb(),s.Xb()),2&e&&(s.Eb(1),s.Nc(t.vData.title),s.Eb(2),s.qc("formGroup",t.formReject),s.Eb(4),s.qc("ngModel",t.vData.Estado),s.Eb(2),s.qc("ngForOf",t.vData.statusData||s.sc(7,O)),s.Eb(6),s.qc("ngForOf",t.UsersStatus||s.sc(8,O)),s.Eb(8),s.qc("mat-dialog-close",t.formReject.value)("disabled",!t.formReject.valid))},directives:[c.h,c.e,l.x,l.q,l.j,b.c,b.g,u.a,l.v,l.p,l.h,d.m,m.b,l.c,c.c,f.b,c.d,p.n],styles:[""]}),D),A=["class","component"];function S(e,t){if(1&e&&(s.Yb(0,"mat-option",7),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.nombre),s.Eb(1),s.Nc(a.nombre)}}var I,N,T=function(){return[]},F=((I=function(){function e(t,a,i){_classCallCheck(this,e),this.dialogRef=t,this.data=a,this.fb=i,this.vData={},this.vData=this.data.vData,this.formConfirm=this.fb.group({Clasificacion:[null,l.w.compose([l.w.required])]})}return _createClass(e,[{key:"cancel",value:function(){this.dialogRef.close(!1)}},{key:"submit",value:function(e,t){this.dialogRef.close({estado:!0,Observacion:e,AsignadoA:t})}}]),e}()).\u0275fac=function(e){return new(e||I)(s.Sb(c.g),s.Sb(c.a),s.Sb(l.e))},I.\u0275cmp=s.Mb({type:I,selectors:[["ngx-dialog-confirm",8,"component"]],attrs:A,decls:15,vars:5,consts:[["mat-dialog-title",""],[3,"formGroup"],["required","","formControlName","Clasificacion"],["ClaisifacionId",""],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","mat-dialog-close","",3,"click"],["mat-raised-button","","color","primary","mat-dialog-close","","cdkFocusInitial","",3,"mat-dialog-close","disabled"],[3,"value"]],template:function(e,t){1&e&&(s.Yb(0,"h2",0),s.Mc(1,"Clasifiaci\xf2n"),s.Xb(),s.Yb(2,"mat-dialog-content"),s.Yb(3,"form",1),s.Yb(4,"mat-form-field"),s.Yb(5,"mat-label"),s.Mc(6,"Seleccione una Clasifiaci\xf2n"),s.Xb(),s.Yb(7,"mat-select",2,3),s.Kc(9,S,2,2,"mat-option",4),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(10,"mat-dialog-actions"),s.Yb(11,"button",5),s.gc("click",(function(){return t.cancel()})),s.Mc(12,"Cancelar"),s.Xb(),s.Yb(13,"button",6),s.Mc(14,"Aceptar"),s.Xb(),s.Xb()),2&e&&(s.Eb(3),s.qc("formGroup",t.formConfirm),s.Eb(6),s.qc("ngForOf",t.vData.ClasificacionData||s.sc(4,T)),s.Eb(4),s.qc("mat-dialog-close",t.formConfirm.value)("disabled",!t.formConfirm.valid))},directives:[c.h,c.e,l.x,l.q,l.j,b.c,b.g,u.a,l.v,l.p,l.h,d.m,c.c,f.b,c.d,p.n],styles:[""]}),I),k=["class","component"],x=((N=function(){function e(t,a,i){_classCallCheck(this,e),this.dialogRef=t,this.data=a,this.fb=i,this.vData={},this.alive=!0;try{this.vData=this.data.vData,this.formSendMantenimiento=this.fb.group({id:null,Estado:[!0,l.w.compose([l.w.required])],evidencia:[null,l.w.compose([l.w.required])],NotaMantenimiento:"",tipodetrabajo:[null,l.w.compose([l.w.required])],ordenmantenimiento:["",l.w.compose([l.w.required])]})}catch(o){}}return _createClass(e,[{key:"cancel",value:function(){this.dialogRef.close(!1)}}]),e}()).\u0275fac=function(e){return new(e||N)(s.Sb(c.g),s.Sb(c.a),s.Sb(l.e))},N.\u0275cmp=s.Mb({type:N,selectors:[["ngx-dialog-confirm",8,"component"]],attrs:k,decls:9,vars:0,consts:[["mat-dialog-title",""],[1,"demo-full-width"],["matInput","","formControlName","NotaMantenimiento"]],template:function(e,t){1&e&&(s.Yb(0,"h2",0),s.Mc(1,"ESPACIO PARA ADMINISTRACI\xf3N DE MANTENIMIENTO"),s.Xb(),s.Yb(2,"mat-dialog-content"),s.Yb(3,"form"),s.Yb(4,"mat-form-field",1),s.Yb(5,"mat-label"),s.Mc(6,"Observaci\xf3n"),s.Xb(),s.Tb(7,"textarea",2),s.Xb(),s.Xb(),s.Xb(),s.Tb(8,"mat-dialog-actions"))},directives:[c.h,c.e,l.x,l.q,l.r,b.c,b.g,m.b,l.c,l.p,l.h,c.c],styles:[""]}),N),j=a("tgey"),P=a("XiUz"),w=a("Wp6s");function z(e,t){if(1&e&&(s.Yb(0,"h3",4),s.Mc(1),s.Xb()),2&e){var a=s.kc();s.Eb(1),s.Nc(a.OrderData.nombre)}}function J(e,t){if(1&e){var a=s.Zb();s.Yb(0,"div",15),s.Yb(1,"button",11),s.gc("click",(function(){return s.Cc(a),s.kc(3).openOrderEspacioMantenimiento()})),s.Mc(2,"ESPACIO PARA ADMINISTRACION DE MANTENIMIENTO"),s.Xb(),s.Xb()}}function L(e,t){if(1&e){var a=s.Zb();s.Yb(0,"div",16),s.Yb(1,"button",11),s.gc("click",(function(){return s.Cc(a),s.kc(3).openClasificacionConfirm()})),s.Mc(2,"Clasificar"),s.Xb(),s.Xb()}}function G(e,t){if(1&e){var a=s.Zb();s.Yb(0,"div",9),s.Yb(1,"div",10),s.Yb(2,"button",11),s.gc("click",(function(){return s.Cc(a),s.kc(2).openOrderZMEJConfirm()})),s.Mc(3,"Aprobar"),s.Xb(),s.Xb(),s.Yb(4,"div",10),s.Yb(5,"button",12),s.gc("click",(function(){return s.Cc(a),s.kc(2).openOrderZMEJReject()})),s.Mc(6,"Rechazar"),s.Xb(),s.Xb(),s.Kc(7,J,3,0,"div",13),s.Kc(8,L,3,0,"div",14),s.Xb()}if(2&e){var i=s.kc(2);s.Eb(7),s.qc("ngIf",6==i.OrderData.estado),s.Eb(1),s.qc("ngIf",6==i.OrderData.estado)}}function Z(e,t){if(1&e&&(s.Yb(0,"div"),s.Yb(1,"div",5),s.Yb(2,"div",6),s.Yb(3,"address"),s.Yb(4,"strong"),s.Mc(5,"# de la orden:"),s.Xb(),s.Tb(6,"br"),s.Mc(7),s.Tb(8,"br"),s.Xb(),s.Yb(9,"address"),s.Yb(10,"strong"),s.Mc(11,"Proponente:"),s.Xb(),s.Tb(12,"br"),s.Mc(13),s.Tb(14,"br"),s.Xb(),s.Yb(15,"address"),s.Yb(16,"strong"),s.Mc(17,"Asignado A:"),s.Xb(),s.Tb(18,"br"),s.Mc(19),s.Tb(20,"br"),s.Xb(),s.Yb(21,"address"),s.Yb(22,"strong"),s.Mc(23,"Jefe de L\xednea:"),s.Xb(),s.Tb(24,"br"),s.Mc(25),s.Tb(26,"br"),s.Xb(),s.Yb(27,"address"),s.Yb(28,"strong"),s.Mc(29,"Responsable Ejecutor:"),s.Xb(),s.Tb(30,"br"),s.Mc(31),s.Tb(32,"br"),s.Xb(),s.Xb(),s.Yb(33,"div",7),s.Yb(34,"address"),s.Yb(35,"strong"),s.Mc(36,"Estado de la Orden:"),s.Xb(),s.Tb(37,"br"),s.Mc(38),s.Tb(39,"br"),s.Xb(),s.Yb(40,"address"),s.Yb(41,"strong"),s.Mc(42,"Nombre del ET:"),s.Xb(),s.Tb(43,"br"),s.Mc(44),s.Tb(45,"br"),s.Xb(),s.Yb(46,"address"),s.Yb(47,"strong"),s.Mc(48,"Codigo Del Equipo:"),s.Xb(),s.Tb(49,"br"),s.Mc(50),s.Tb(51,"br"),s.Xb(),s.Yb(52,"address"),s.Yb(53,"strong"),s.Mc(54,"Descripcion del equipo:"),s.Xb(),s.Tb(55,"br"),s.Mc(56),s.Tb(57,"br"),s.Xb(),s.Yb(58,"address"),s.Yb(59,"strong"),s.Mc(60,"Descripcion Ubicaci\xf3n tecnica:"),s.Xb(),s.Tb(61,"br"),s.Mc(62),s.Tb(63,"br"),s.Xb(),s.Yb(64,"address"),s.Yb(65,"strong"),s.Mc(66,"Clasificaci\xf3n:"),s.Xb(),s.Tb(67,"br"),s.Mc(68),s.Tb(69,"br"),s.Xb(),s.Xb(),s.Xb(),s.Yb(70,"div",5),s.Yb(71,"div",6),s.Yb(72,"address"),s.Yb(73,"strong"),s.Mc(74,"Detalle:"),s.Xb(),s.Tb(75,"br"),s.Mc(76),s.Tb(77,"br"),s.Xb(),s.Yb(78,"address"),s.Yb(79,"strong"),s.Mc(80,"Costo planeado:"),s.Xb(),s.Tb(81,"br"),s.Mc(82),s.lc(83,"currency"),s.Tb(84,"br"),s.Xb(),s.Yb(85,"address"),s.Yb(86,"strong"),s.Mc(87,"Beneficio Cualitativo:"),s.Xb(),s.Tb(88,"br"),s.Mc(89),s.Tb(90,"br"),s.Xb(),s.Yb(91,"address"),s.Yb(92,"strong"),s.Mc(93,"Beneficio Cuantitativo $:"),s.Xb(),s.Tb(94,"br"),s.Mc(95),s.lc(96,"currency"),s.Tb(97,"br"),s.Xb(),s.Xb(),s.Yb(98,"div",7),s.Yb(99,"address"),s.Yb(100,"strong"),s.Mc(101,"Paso EI:"),s.Xb(),s.Tb(102,"br"),s.Mc(103),s.Tb(104,"br"),s.Xb(),s.Yb(105,"address"),s.Yb(106,"strong"),s.Mc(107,"Norma de liquidaci\xf2n:"),s.Xb(),s.Tb(108,"br"),s.Mc(109),s.Tb(110,"br"),s.Xb(),s.Yb(111,"address"),s.Yb(112,"strong"),s.Mc(113,"Clase de actividad:"),s.Xb(),s.Tb(114,"br"),s.Mc(115),s.Tb(116,"br"),s.Tb(117,"br"),s.Xb(),s.Yb(118,"address"),s.Yb(119,"strong"),s.Mc(120,"Fecha inicio y fin de la mejora:"),s.Xb(),s.Tb(121,"br"),s.Mc(122),s.lc(123,"date"),s.Yb(124,"b"),s.Mc(125,"-"),s.Xb(),s.Mc(126),s.lc(127,"date"),s.Tb(128,"br"),s.Tb(129,"br"),s.Xb(),s.Xb(),s.Xb(),s.Kc(130,G,9,2,"div",8),s.Tb(131,"div",9),s.Xb()),2&e){var a=s.kc();s.Eb(7),s.Oc(" ",a.OrderData.ordenMantenimiento,""),s.Eb(6),s.Oc(" ",a.OrderData.nombreProponente,""),s.Eb(6),s.Oc(" ",a.OrderData.nombreAsignado,""),s.Eb(6),s.Oc(" ",a.OrderData.responsableDelPuestoDetrabajo,""),s.Eb(6),s.Oc(" ",a.OrderData.responsableEjecutor,""),s.Eb(7),s.Oc(" ",a.OrderData.nombreEstado," "),s.Eb(6),s.Oc(" ",a.OrderData.nombreDelPet," "),s.Eb(6),s.Oc(" ",a.OrderData.codigoDelEquipo," "),s.Eb(6),s.Oc(" ",a.OrderData.descripcionDelEquipo,""),s.Eb(6),s.Oc(" ",a.OrderData.ubicacionTecnica,""),s.Eb(6),s.Oc(" ",a.OrderData.nombreClasificacion,""),s.Eb(8),s.Oc(" ",a.OrderData.descripcion,""),s.Eb(6),s.Oc(" ",s.nc(83,21,a.OrderData.costoPlaneado,"COP"),""),s.Eb(7),s.Oc(" ",a.OrderData.beneficioCualitativo,""),s.Eb(6),s.Oc(" ",s.nc(96,24,a.OrderData.beneficioCuantitativo,"COP"),""),s.Eb(8),s.Oc(" ",a.OrderData.pasoTPM,""),s.Eb(6),s.Oc(" ",a.OrderData.codigoNormaDeLiquidacion,""),s.Eb(6),s.Oc(" ",a.OrderData.nombreClaseActividad,""),s.Eb(7),s.Oc(" ",s.nc(123,27,a.OrderData.fechaInicio,"dd/MM/yyyy")," "),s.Eb(4),s.Oc(" ",s.nc(127,30,a.OrderData.fechaFin,"dd/MM/yyyy")," "),s.Eb(4),s.qc("ngIf",a.OrderData.estado<6&&1==a.OrderData.puedeAprobar)}}var R,_=((R=function(){function e(t,a,i,o,r){_classCallCheck(this,e),this.route=t,this.authService=a,this.authorizationService=i,this._router=o,this.dialog=r,this.OrderData={},this.UsersStatus=[],this.StatusData=[],this.alive=!0,this.loading=!1}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;try{this.route.paramMap.subscribe((function(t){e.getOrderZMEJjById(t.get("id"))}))}catch(t){console.log(t)}}},{key:"getOrderZMEJjById",value:function(e){var t=this;try{this.loading=!0,this.authorizationService.get("api/OrderZMEJ/OrderDetails/"+e).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){t.loading=!1,t.OrderData=e.body,t.GetAllLowStatusCode(),t.GetAllUserByStatusCode(),t.GetAllClasificacion()}))}catch(a){this.loading=!1,console.log(a)}}},{key:"GetAllClasificacion",value:function(){var e=this;try{this.authorizationService.get("ZMEJ.api/clasificacion/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ClasificacionData=t.body}))}catch(t){console.log(t)}}},{key:"GetAllLowStatusCode",value:function(){var e=this;try{this.loading=!0,this.UsersStatus=[],this.authorizationService.get("ZMEJ.api/StatusCode/getAllLow/"+this.OrderData.estado).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.StatusData=t.body,e.loading=!1}),(function(t){e.loading=!1}))}catch(t){this.loading=!1}}},{key:"GetAllUserByStatusCode",value:function(){var e=this;try{this.loading=!0,this.UsersStatus=[],this.authorizationService.get("api/RoleStatusCode/getUserByCode/"+(this.OrderData.estado+1)+"/"+X.a.aplicationId).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.UsersStatus=t.body,e.loading=!1}),(function(t){e.loading=!1}))}catch(t){this.loading=!1}}},{key:"openOrderZMEJConfirm",value:function(e){var t=this;this.dialog.open(C,{width:"500px",data:{vData:{title:"Aprobar la orden: "+this.OrderData.nombre,usersStatus:this.UsersStatus,AsignadoA:"",observacion:""}}}).afterClosed().subscribe((function(e){e&&(e.id=t.OrderData.id,t.SendOrderZMEJAproved(e))}))}},{key:"openClasificacionConfirm",value:function(e){var t=this;this.dialog.open(F,{width:"500px",data:{vData:{title:"Asignar clasificaci\xf3n: "+this.OrderData.nombre,ClasificacionData:this.ClasificacionData}}}).afterClosed().subscribe((function(e){e&&(e.id=t.OrderData.id,t.SendClasificacionZMEJ(e))}))}},{key:"openOrderEspacioMantenimiento",value:function(){var e=this;this.dialog.open(x,{width:"500px",data:{vData:{id:"",evidencia:"",ordenmantenimiento:"0",tipodetrabajo:"",nota:""}}}).afterClosed().subscribe((function(t){t&&(t.id=e.OrderData.id,e.SendEspacioMantenimiento(t))}))}},{key:"openOrderZMEJReject",value:function(){var e=this;this.dialog.open(q,{width:"500px",data:{vData:{title:"Rechazar la orden: "+this.OrderData.nombre,usersStatus:[],Estado:"",statusData:this.StatusData,AsignadoA:"",observacion:""}}}).afterClosed().subscribe((function(t){t&&(t.id=e.OrderData.id,e.SendOrderZMEJReject(t))}))}},{key:"SendOrderZMEJReject",value:function(e){var t=this;try{this.authorizationService.post("api/OrderZMEJ/reject",e).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){200==e.status?t.getOrderZMEJjById(t.OrderData.id):console.log(e.error)}),(function(e){}))}catch(a){}}},{key:"SendOrderZMEJAproved",value:function(e){var t=this;try{this.loading=!0,this.authorizationService.post("api/OrderZMEJ/aproved",e).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){200==e.status?t.getOrderZMEJjById(t.OrderData.id):(t.loading=!1,console.log(e.error))}),(function(e){t.loading=!1}))}catch(a){this.loading=!1}}},{key:"SendClasificacionZMEJ",value:function(e){var t=this;try{this.loading=!0,this.authorizationService.post("ZMEJ.api/OrderZMEJ/classification",e).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){}),(function(e){t.loading=!1}))}catch(a){this.loading=!1}}},{key:"SendEspacioMantenimiento",value:function(e){var t=this;try{this.authorizationService.put("ZMEJ.api/OrderZMEJ/UpdateOM",e).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){console.log(e),200==e.status?t.getOrderZMEJjById(t.OrderData.id):console.log(e.error)}),(function(e){}))}catch(a){}}},{key:"LoadingAnimation",value:function(){var e=this;this.loading=!0,setTimeout((function(){return e.loading=!1}),3e3)}}]),e}()).\u0275fac=function(e){return new(e||R)(s.Sb(o.a),s.Sb(n.b),s.Sb(n.c),s.Sb(o.f),s.Sb(c.b))},R.\u0275cmp=s.Mb({type:R,selectors:[["ngx-orderzmej"]],decls:9,vars:2,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],["class","pull-right",4,"ngIf"],[4,"ngIf"],[1,"pull-right"],[1,"row"],[1,"col-md-6","col-xxxl-4"],[1,"col-md-6","col-xxxl-4","text-right"],["class","buttons-row",4,"ngIf"],[1,"buttons-row"],["fxFlex","10","fxFlex.lt-sm","100"],["mat-raised-button","","color","primary",1,"m-t-8",3,"click"],["mat-raised-button","","color","warn",1,"m-t-8",3,"click"],["fxFlex","50","fxFlex.lt-sm","100",4,"ngIf"],["fxFlex","20","fxFlex.lt-sm","100",4,"ngIf"],["fxFlex","50","fxFlex.lt-sm","100"],["fxFlex","20","fxFlex.lt-sm","100"]],template:function(e,t){1&e&&(s.Tb(0,"page-header"),s.Yb(1,"div",0),s.Yb(2,"div",1),s.Yb(3,"mat-card"),s.Yb(4,"mat-card-title"),s.Yb(5,"h2"),s.Mc(6,"Detalle de la orden: \xa0\xa0"),s.Xb(),s.Kc(7,z,2,1,"h3",2),s.Xb(),s.Kc(8,Z,132,33,"div",3),s.Xb(),s.Xb(),s.Xb()),2&e&&(s.Eb(7),s.qc("ngIf",t.OrderData&&null!=t.OrderData),s.Eb(1),s.qc("ngIf",t.OrderData&&null!=t.OrderData&&0==t.loading))},directives:[j.a,P.c,P.a,w.a,w.c,d.n,f.b],pipes:[d.d,d.f],styles:[".name[_ngcontent-%COMP%]{font-size:30px;border-bottom:2px solid #888;margin-bottom:20px}.name[_ngcontent-%COMP%]:first-letter{font-size:300%}.label[_ngcontent-%COMP%]{width:70px;font-weight:700}.email[_ngcontent-%COMP%], .label[_ngcontent-%COMP%], .mobile[_ngcontent-%COMP%], .phone[_ngcontent-%COMP%]{display:inline-block}.details-td[_ngcontent-%COMP%]{border-right:1px solid #eee;white-space:nowrap;padding:20px 30px 20px 20px}.description-td[_ngcontent-%COMP%]{position:relative;width:100%;padding:20px 30px;text-align:justify;margin-top:15px}.description[_ngcontent-%COMP%]{outline:0 solid transparent;border:0 solid transparent}.edit[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:13px;height:13px;cursor:pointer}.invoice-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .invoice-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:inline-block}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-top:none}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .no-line[_ngcontent-%COMP%]{border-bottom:none}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > .thick-line[_ngcontent-%COMP%]{border-top:2px solid}form-inline[_ngcontent-%COMP%]   [fullWidth][_ngcontent-%COMP%]{flex:1}.form-inline[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:0 1.5rem 1.5rem 0}"]}),R),U=a("M0ag"),K=a("hGDI");function B(e,t){if(1&e&&(s.Yb(0,"mat-option",8),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.rc("value",a.code),s.Eb(1),s.Nc(a.name)}}var V,$,H,Q=function(){return[5,10,20]},W=((V=function(){function e(t,a,i,o,r,n,c){var l=this;_classCallCheck(this,e),this.authService=t,this.authorizationService=a,this.pagerService=i,this.datePipe=o,this.currencyPipe=r,this._router=n,this.cdr=c,this.FlujoData=[],this.isAuthenticated=!1,this.alive=!0,this.columns=[{header:"Orden",field:"ordenMantenimiento",width:"100px"},{header:"Nombre",field:"Nombre",formatter:function(e){return'<span class="sortable" (click)="viewOrderzmejDetail('.concat(e.id,')">').concat(e.nombre,"</span>")}},{header:"ET",field:"nombreDelPet"},{header:"Costo Real",field:"costoReal",formatter:function(e){return""+l.currencyPipe.transform(e.costoReal,"","symbol","1.0-0")}},{header:"Costo Planeado",field:"costoPlaneado",formatter:function(e){return""+l.currencyPipe.transform(e.costoPlaneado,"","symbol","1.0-0")}},{header:"Estado",field:"nombreEstado"},{header:"Clasificaci\xf3n",field:"nombreClasificacion"},{header:"Fecha de inicio",field:"fechaInicio",formatter:function(e){return""+l.datePipe.transform(e.fechaInicio,"dd/MM/yyyy")}},{header:"codigo del equipo",field:"codigoDelEquipo"},{header:"Descripcion del equipo",field:"descripcionDelEquipo"},{header:"Option",field:"option",width:"120px",pinned:"right",right:"0px",type:"button",buttons:[{type:"icon",text:"Ver detalle",icon:"visibility",tooltip:"Ver detalle",click:function(e){return l.viewOrderzmejDetail(e)}},{icon:"edit",tooltip:"Editar",type:"icon",click:function(e){return l.EditOrderzmejDetail(e)}}]}],this.List=[],this.total=0,this.isLoading=!0,this.query={q:"",sort:"stars",name:"0",page:0,per_page:10},this.isAuthenticated=!0,this.GetAllOrderZMEJ(),this.GetAllStatusCode(),t.isLoggedIn()}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"getNextPage",value:function(e){this.query.page=e.pageIndex,this.query.per_page=e.pageSize,this.setPage()}},{key:"GetAllOrderZMEJ",value:function(){var e=this;try{this.List=[],this.total=0,this.authorizationService.get("zmej.api/OrderZMEJ/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.OrderData=t.body,null!=e.OrderData&&(e.setPage(),e.total=e.OrderData.length,e.cdr.detectChanges()),e.isLoading=!1}))}catch(t){console.log(t)}}},{key:"addOrderzmej",value:function(e){null==e&&this._router.navigate(["/ordenes/create-zmej"])}},{key:"viewOrderzmejDetail",value:function(e){console.log(e),null!=e&&this._router.navigate(["/ordenes/order-zmej-details/"+e.id])}},{key:"EditOrderzmejDetail",value:function(e){null!=e&&this._router.navigate(["/ordenes/edit-zmej/"+e.id])}},{key:"GetAllStatusCode",value:function(){var e=this;try{this.authorizationService.get("zmej.api/statuscode/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.FlujoData=t.body}))}catch(t){console.log(t)}}},{key:"setPage",value:function(){var e=this.pagerService.getPager(this.OrderData.length,this.query.page+1,this.query.per_page);this.List=this.OrderData.slice(e.startIndex,e.endIndex+1)}},{key:"search",value:function(){var e=this;this.query.page=0,console.log(this.query),console.log(this.params);try{this.List=[],this.authorizationService.post("zmej.api/OrderZMEJ/FilterOrder",{Name:this.query.q,id:this.query.name}).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.OrderData=t.body,null!=e.OrderData&&(e.setPage(),e.total=e.OrderData.length,e.cdr.detectChanges()),e.isLoading=!1}))}catch(t){this.List=[],console.log(t)}}},{key:"params",get:function(){var e=Object.assign({},this.query);return e.page+=1,Object(U.a)(e)}}]),e}()).\u0275fac=function(e){return new(e||V)(s.Sb(n.b),s.Sb(n.c),s.Sb(n.e),s.Sb(d.f),s.Sb(d.d),s.Sb(o.f),s.Sb(s.h))},V.\u0275cmp=s.Mb({type:V,selectors:[["ngx-orderzmej"]],decls:13,vars:12,consts:[[1,"bg-blue-600"],[1,"m-r-8"],["matInput","","name","q","placeholder","Buscar por nombre",3,"ngModel","ngModelChange"],["name","order","placeholder","Filtrar por estado",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"m-r-8",3,"click"],[3,"data","columns","length","loading","pageOnFront","pageIndex","pageSize","pageSizeOptions","page"],[3,"value"]],template:function(e,t){1&e&&(s.Tb(0,"page-header",0),s.Yb(1,"form"),s.Yb(2,"mat-form-field",1),s.Yb(3,"input",2),s.gc("ngModelChange",(function(e){return t.query.q=e})),s.Xb(),s.Xb(),s.Yb(4,"mat-form-field",1),s.Yb(5,"mat-select",3),s.gc("ngModelChange",(function(e){return t.query.name=e})),s.Tb(6,"mat-option",4),s.Kc(7,B,2,2,"mat-option",5),s.Xb(),s.Xb(),s.Yb(8,"button",6),s.gc("click",(function(){return t.search()})),s.Mc(9,"Buscar"),s.Xb(),s.Yb(10,"button",6),s.gc("click",(function(){return t.addOrderzmej(null)})),s.Mc(11,"Crear nueva orden"),s.Xb(),s.Xb(),s.Yb(12,"mtx-grid",7),s.gc("page",(function(e){return t.getNextPage(e)})),s.Xb()),2&e&&(s.Eb(3),s.qc("ngModel",t.query.q),s.Eb(2),s.qc("ngModel",t.query.name),s.Eb(2),s.qc("ngForOf",t.FlujoData),s.Eb(5),s.qc("data",t.List)("columns",t.columns)("length",t.total)("loading",t.isLoading)("pageOnFront",!1)("pageIndex",t.query.page)("pageSize",t.query.per_page)("pageSizeOptions",s.sc(11,Q)))},directives:[j.a,l.x,l.q,l.r,b.c,m.b,l.c,l.p,l.s,u.a,p.n,d.m,f.b,K.a],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"],changeDetection:0}),V),ee=a("ihCf"),te=a("YKwE"),ae=((H=function(){function e(t,a,i,o){_classCallCheck(this,e),this.el=t,this.currencyPipe=a,this.renderer=i,this.locale=o,this.currencyCode="USD",this.allowNegative=!1,this.regex={positiveDecimal:new RegExp(/^\d*[\.|,]?\d*$/g),allDecimal:new RegExp(/^-?\d*[\.|,]?\d*$/g)},this.specialKeys=["Backspace","Delete","ArrowLeft","ArrowRight","Del"]}return _createClass(e,[{key:"ngAfterViewInit",value:function(){this.el.nativeElement.value=this.currencyPipe.transform(this.el.nativeElement.value,this.currencyCode)}},{key:"onFocus",value:function(){this.el.nativeElement.value=this.el.nativeElement.value.replace(/[^\d.,-]/g,""),this.el.nativeElement.select()}},{key:"onFocusout",value:function(){var e=this.el.nativeElement.value;(0===e.length||1===e.length&&[",",".",""].indexOf(e[0])>-1)&&(e="0"),this.el.nativeElement.value=this.currencyPipe.transform(e,this.currencyCode)}},{key:"onKeyDown",value:function(e){-1===this.specialKeys.indexOf(e.key)&&(e.key.match(this.allowNegative?this.regex.allDecimal:this.regex.positiveDecimal)||e.preventDefault())}},{key:"onBlur",value:function(e){var t,a,i,o,r,n,c=(t=this.el.nativeElement.value,a=this.locale,i=new Intl.NumberFormat(a).format(1111).replace(/1/g,""),o=new Intl.NumberFormat(a).format(1.1).replace(/1/g,""),r=t.replace(new RegExp("\\"+i,"g"),""),n=(r=r.replace(new RegExp("\\"+o,"g"),".")).replace(/[^\d.-]/g,""),Number.isNaN(n)?0:n).replace(/^[^0-9]{2}..*/g,"");this.el.nativeElement.value=c}}]),e}()).\u0275fac=function(e){return new(e||H)(s.Sb(s.l),s.Sb(d.d),s.Sb(s.F),s.Sb(s.v))},H.\u0275dir=s.Nb({type:H,selectors:[["","mvndrMatCurrencyFormat",""]],hostBindings:function(e,t){1&e&&s.gc("focus",(function(){return t.onFocus()}))("focusout",(function(){return t.onFocusout()}))("keydown",(function(e){return t.onKeyDown(e)}))("blur",(function(){return t.onBlur()}))},inputs:{currencyCode:"currencyCode",allowNegative:"allowNegative"},features:[s.Db([d.d])]}),H),ie=(($=function e(){_classCallCheck(this,e)}).\u0275mod=s.Qb({type:$}),$.\u0275inj=s.Pb({factory:function(e){return new(e||$)},imports:[[]]}),$),oe=a("iadO"),re=a("bSwM");function ne(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"ingrese un nombre "),s.Xb())}function ce(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"ingrese un nombre "),s.Xb())}function le(e,t){if(1&e&&(s.Yb(0,"mat-option",52),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Eb(1),s.Nc(a.fullName)}}function se(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"seleccione un proponente "),s.Xb())}function be(e,t){if(1&e&&(s.Yb(0,"mat-option",52),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Eb(1),s.Nc(a.fullName)}}function ue(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione una persona"),s.Xb())}function de(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione un pet "),s.Xb())}function me(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione un paso tpm "),s.Xb())}function fe(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione un responsable "),s.Xb())}function pe(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"este campo es requerido"),s.Xb())}function ge(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione un equipo "),s.Xb())}function he(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"selecione una opcion "),s.Xb())}function ve(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"ingrese un nombre "),s.Xb())}function Me(e,t){if(1&e&&(s.Yb(0,"mat-option",52),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.rc("value",a.id),s.Eb(1),s.Nc(a.nombre)}}function Ce(e,t){1&e&&s.Tb(0,"mat-error")}function Xe(e,t){1&e&&s.Tb(0,"mat-error")}function Ye(e,t){1&e&&s.Tb(0,"mat-error")}function ye(e,t){1&e&&s.Tb(0,"mat-error")}function Ee(e,t){1&e&&s.Tb(0,"mat-error")}function De(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione una fecha "),s.Xb())}function Oe(e,t){if(1&e&&(s.Yb(0,"mat-option",52),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.id),s.Eb(1),s.Nc(a.descripcion)}}function qe(e,t){if(1&e&&(s.Yb(0,"mat-option",52),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.id),s.Eb(1),s.Nc(a.descripcion)}}function Ae(e,t){if(1&e&&(s.Yb(0,"mat-option",52),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.id),s.Eb(1),s.Nc(a.nombre)}}function Se(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione una clasifica\xf3n"),s.Xb())}function Ie(e,t){if(1&e&&(s.Yb(0,"li",56),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.Eb(1),s.Nc(a)}}function Ne(e,t){if(1&e&&(s.Yb(0,"div",53),s.Yb(1,"ul",54),s.Kc(2,Ie,2,1,"li",55),s.Xb(),s.Xb()),2&e){var a=s.kc();s.Eb(2),s.qc("ngForOf",a.errors)}}var Te,Fe=function(){return[]},ke=((Te=function(){function e(t,a,i,o,r){_classCallCheck(this,e),this.fb=t,this.authService=a,this.authorizationService=i,this.router=o,this.dateAdapter=r,this.isAuthenticated=!1,this.orderZMEJ={},this.errors=[],this.showMessages={},this.NormaDeLiquidacionData=[],this.maquinasData=[],this.ubcacionTecnicaData=[],this.submitted=!1,this.alive=!0,this.ubicacionTecnica="",this.codigoDelEquipo="",this.costoTotal=0,this.LineaData=[],this.HornoData=[],this.vHornoResultData=[],this.ClasificacionData=[],this.usAmount=0,this.dateAdapter.setLocale("en-GB"),this.showMessages={success:!0,error:!0},this.reactiveForm2=this.fb.group({nombre:["",[l.w.required]],descripcion:["",[l.w.required]],proponente:["",[l.w.required]],AsignadoA:["",[l.w.required]],nombreDelPet:["",[l.w.required]],pasoTPM:["",[l.w.required]],responsableDelPuestoDetrabajo:["",[l.w.required]],responsableEjecutor:["",[l.w.required]],codigoDelEquipo:["",[l.w.required]],descripcionDelEquipo:[""],ubicacionTecnica:["",[l.w.required]],descripcionDeUbicacionTecnica:[""],NormaDeLiquidacionId:["1"],CodigoNormaDeLiquidacion:["",[l.w.required]],claseDeActividadID:["",[l.w.required]],costomaterial:["0"],costomanodeobra:["0"],costoservicios:["0"],beneficioCualitativo:[""],beneficioCuantitativo:[0,[l.w.required]],duraciondelTrabajo:["0",[l.w.required]],fechaInicio:["",[l.w.required]],pregunta1:"",pregunta2:"",pregunta3:"",linea:"",horno:"",clasificacion:0,enviarCorreo:!1}),a.isLoggedIn()&&(this.isAuthenticated=!0,this.GetAllClaseDeActividad(),this.GetAllNormaDeLiquidacion(),this.GetAllUserValidador(),this.GetAllProponente(),this.GetAllMaquinas(),this.GetAllPets(),this.GetAllPuestoDeTrabajos(),this.GetAllUbicacionTecnica(),this.GetAllGrupoPlanificador(),this.GetAllResCrontrolProd(),this.GetAllClasificacion())}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"GetAllGrupoPlanificador",value:function(){var e=this;this.authorizationService.get("zmej.api/grupoPlanificador/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.HornoData=t.body}),(function(e){}))}},{key:"GetAllClasificacion",value:function(){var e=this;try{this.authorizationService.get("ZMEJ.api/clasificacion/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ClasificacionData=t.body}))}catch(t){console.log(t)}}},{key:"GetAllResCrontrolProd",value:function(){var e=this;this.authorizationService.get("zmej.api/resctrlproduccion/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.LineaData=t.body}),(function(e){}))}},{key:"GetAllUserValidador",value:function(){var e=this;try{this.authorizationService.get("api/RoleStatusCode/getUserByCode/2/"+X.a.aplicationId).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.UsersStatus=t.body}),(function(e){}))}catch(t){}}},{key:"GetAllProponente",value:function(){var e=this;this.authorizationService.get("api/RoleStatusCode/getUserByCode/1/"+X.a.aplicationId).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.UsersStatusProponente=t.body}),(function(e){}))}},{key:"GetAllNormaDeLiquidacion",value:function(){var e=this;this.authorizationService.get("ZMEJ.api/NormaDeLiquidacion/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.NormaDeLiquidacionData=t.body}),(function(e){}))}},{key:"GetAllClaseDeActividad",value:function(){var e=this;this.authorizationService.get("ZMEJ.api/ClaseDeActividad/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ClaseDeActividad=t.body}),(function(e){}))}},{key:"GetAllPets",value:function(){var e=this;this.authorizationService.get("maestrassip.api/pets/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.petsData=t.body}),(function(e){}))}},{key:"GetAllMaquinas",value:function(){var e=this;this.maquinasData=[],this.authorizationService.get("zmej.api/maquinas/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.maquinasData=t.body}),(function(e){}))}},{key:"GetAllUbicacionTecnica",value:function(){var e=this;this.authorizationService.get("zmej.api/ubicacionTecnica/getallactive").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ubcacionTecnicaData=t.body}),(function(e){}))}},{key:"GetAllPuestoDeTrabajos",value:function(){var e=this;this.authorizationService.get("zmej.api/puestodetrabajo/getallactive").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.puestodetrabajoData=t.body}),(function(e){}))}},{key:"onSubmitOrderzmej",value:function(){var e=this;this.errors=[],this.messages=[],this.submitted=!0;try{this.authorizationService.post("api/OrderZMEJ/save",this.reactiveForm2.value).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){200==t.status?(e.messages[0]="datos guardados correctamente",setTimeout((function(){return e.router.navigateByUrl("/ordenes/zmej")}),e.redirectDelay)):(e.submitted=!1,e.errors[0]=t.error,console.log(t.error))}),(function(t){e.submitted=!1,e.errors=t}))}catch(t){console.log(t),this.submitted=!1}}},{key:"onChangeUbicacion",value:function(e){try{this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue("");var t=this.ubcacionTecnicaData.filter((function(t){return t.ubicacion===e}));null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue(t[0].descripcion))}catch(a){console.log("error en ubicacion tecnica")}}},{key:"onChangeMaquina",value:function(e){try{this.reactiveForm2.controls.descripcionDelEquipo.setValue("");var t=this.maquinasData.filter((function(t){return t.maquina===e}));null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDelEquipo.setValue(t[0].descripcion))}catch(a){console.log("error en onChangeMaquina ")}}},{key:"onChangeLinea",value:function(e){try{this.reactiveForm2.controls.horno.setValue(""),this.vHornoResultData=this.HornoData.filter((function(t){return t.resControlProdId===e}))}catch(t){}}},{key:"changeCosto",value:function(e){try{var t=this.reactiveForm2.get("costoservicios"),a=this.reactiveForm2.get("costomanodeobra"),i=this.reactiveForm2.get("costomaterial");this.costoTotal=+t.value+ +a.value+ +i.value}catch(o){}}},{key:"updateUSAmount",value:function(e){this.usAmount=e.target.value}},{key:"setDate",value:function(){try{var e=this.reactiveForm2.get("fechaInicio").value,t=+this.reactiveForm2.get("duraciondelTrabajo").value,a=new Date(e);this.fechaFinal=this.addDays(a,t)}catch(i){}}},{key:"addDays",value:function(e,t){return e.setDate(e.getDate()+t),e}},{key:"addEvent",value:function(e,t){this.setDate()}}]),e}()).\u0275fac=function(e){return new(e||Te)(s.Sb(l.e),s.Sb(n.b),s.Sb(n.c),s.Sb(o.f),s.Sb(p.c))},Te.\u0275cmp=s.Mb({type:Te,selectors:[["ngx-orderzmej"]],decls:205,vars:55,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],[1,"form-field-full",3,"formGroup","ngSubmit"],["form","ngForm"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],["matInput","","placeholder","nombre de la propuesta","formControlName","nombre","required",""],[4,"ngIf"],["matInput","","cdkTextareaAutosize","","formControlName","descripcion","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["required","","formControlName","proponente","required",""],[3,"value",4,"ngFor","ngForOf"],["required","","formControlName","AsignadoA","required",""],["bindLabel","descripcion","bindValue","descripcion","autofocus","","formControlName","nombreDelPet",3,"items"],["required","","formControlName","pasoTPM","required",""],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["bindLabel","fullDescripcion","bindValue","fullDescripcion","autofocus","","formControlName","responsableDelPuestoDetrabajo",3,"items"],["matInput","","placeholder","Simple placeholder","type","text","formControlName","responsableEjecutor","required",""],["bindLabel","fullDescripcion","bindValue","maquina","autofocus","","formControlName","codigoDelEquipo",3,"items","ngModelChange"],["bindLabel","fullDescripcion","o","","bindValue","fullDescripcion","autofocus","","formControlName","ubicacionTecnica",3,"items","ngModel","ngModelChange"],["matInput","","placeholder","nombre","formControlName","CodigoNormaDeLiquidacion","required",""],["required","","formControlName","claseDeActividadID","required",""],["fxFlex","20","fxFlex.lt-sm","100"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomaterial","mvndrMatCurrencyFormat","","required","",3,"allowNegative","currencyCode","change"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomanodeobra","mvndrMatCurrencyFormat","","required","",3,"allowNegative","currencyCode","change"],["matInput","","placeholder","Costo Material","type","text","formControlName","costoservicios","mvndrMatCurrencyFormat","","required","",3,"allowNegative","currencyCode","change"],["matInput","","mvndrMatCurrencyFormat","","readonly","",3,"value","allowNegative","currencyCode"],["fxFlex","33.3","fxFlex.lt-sm","100"],["formControlName","pregunta1"],["value","Si"],["value","No"],["formControlName","pregunta2"],["formControlName","pregunta3"],["matInput","","cdkTextareaAutosize","","formControlName","beneficioCualitativo","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["matInput","","placeholder","beneficioCuantitativo","type","text","mvndrMatCurrencyFormat","","formControlName","beneficioCuantitativo","required","",3,"allowNegative","currencyCode"],["matInput","","placeholder","","formControlName","duraciondelTrabajo","required","",3,"change"],["matInput","","placeholder","Fecha de inicio","formControlName","fechaInicio",3,"matDatepicker","change","dateChange"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","",3,"value"],["formControlName","linea",3,"ngModelChange"],["formControlName","horno"],["formControlName","clasificacion"],["id","amateur","color","primary","formControlName","enviarCorreo",1,"amateur"],["mat-raised-button","","color","primary",1,"m-t-8",3,"disabled"],["class","m-t-16","outline","danger",4,"ngIf"],[3,"value"],["outline","danger",1,"m-t-16"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"]],template:function(e,t){if(1&e&&(s.Tb(0,"page-header"),s.Yb(1,"div",0),s.Yb(2,"div",1),s.Yb(3,"mat-card"),s.Yb(4,"mat-card-title"),s.Mc(5,"Crear Orden"),s.Xb(),s.Yb(6,"form",2,3),s.gc("ngSubmit",(function(){return t.onSubmitOrderzmej()})),s.Yb(8,"div",4),s.Yb(9,"div",5),s.Yb(10,"mat-form-field"),s.Yb(11,"mat-label"),s.Mc(12,"NOMBRE DE LA PROPUESTA"),s.Xb(),s.Tb(13,"input",6),s.Kc(14,ne,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(15,"div",5),s.Yb(16,"mat-form-field"),s.Yb(17,"mat-label"),s.Mc(18,"DESCRIPCION DETALLADA DE LA PROPUESTA"),s.Xb(),s.Tb(19,"textarea",8),s.Kc(20,ce,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(21,"div",5),s.Yb(22,"mat-form-field"),s.Yb(23,"mat-label"),s.Mc(24,"PROPONENTE"),s.Xb(),s.Yb(25,"mat-select",9),s.Kc(26,le,2,2,"mat-option",10),s.Xb(),s.Kc(27,se,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(28,"div",5),s.Yb(29,"mat-form-field"),s.Yb(30,"mat-label"),s.Mc(31,"JEFE DE MANTENIMIENTO"),s.Xb(),s.Yb(32,"mat-select",11),s.Kc(33,be,2,2,"mat-option",10),s.Xb(),s.Kc(34,ue,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(35,"div",5),s.Yb(36,"mat-form-field"),s.Yb(37,"mat-label"),s.Mc(38,"Nombre ET"),s.Xb(),s.Tb(39,"mtx-select",12),s.Kc(40,de,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(41,"div",5),s.Yb(42,"mat-form-field"),s.Yb(43,"mat-label"),s.Mc(44,"PASO TPM"),s.Xb(),s.Yb(45,"mat-select",13),s.Yb(46,"mat-option",14),s.Mc(47,"0"),s.Xb(),s.Yb(48,"mat-option",15),s.Mc(49,"1"),s.Xb(),s.Yb(50,"mat-option",16),s.Mc(51,"2"),s.Xb(),s.Yb(52,"mat-option",17),s.Mc(53,"3"),s.Xb(),s.Yb(54,"mat-option",18),s.Mc(55,"4"),s.Xb(),s.Yb(56,"mat-option",19),s.Mc(57,"5"),s.Xb(),s.Yb(58,"mat-option",20),s.Mc(59,"6"),s.Xb(),s.Yb(60,"mat-option",21),s.Mc(61,"7"),s.Xb(),s.Xb(),s.Kc(62,me,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(63,"div",5),s.Yb(64,"mat-form-field"),s.Yb(65,"mat-label"),s.Mc(66,"JEFE DE L\xcdNEA"),s.Xb(),s.Tb(67,"mtx-select",22),s.Kc(68,fe,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(69,"div",5),s.Yb(70,"mat-form-field"),s.Yb(71,"mat-label"),s.Mc(72,"RESPONSABLE DE EJECUTAR"),s.Xb(),s.Tb(73,"input",23),s.Kc(74,pe,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(75,"div",5),s.Yb(76,"mat-form-field"),s.Yb(77,"mat-label"),s.Mc(78,"CODIGO DEL EQUIPO"),s.Xb(),s.Yb(79,"mtx-select",24),s.gc("ngModelChange",(function(e){return t.onChangeMaquina(e)})),s.Xb(),s.Kc(80,ge,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(81,"div",5),s.Yb(82,"mat-form-field"),s.Yb(83,"mat-label"),s.Mc(84,"UBICACI\xd3N TECNICA"),s.Xb(),s.Yb(85,"mtx-select",25),s.gc("ngModelChange",(function(e){return t.onChangeUbicacion(e)}))("ngModelChange",(function(e){return t.ubicacionTecnica=e})),s.Xb(),s.Kc(86,he,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(87,"div",5),s.Yb(88,"mat-form-field"),s.Yb(89,"mat-label"),s.Mc(90,"# CeCo"),s.Xb(),s.Tb(91,"input",26),s.Kc(92,ve,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(93,"div",5),s.Yb(94,"mat-form-field"),s.Yb(95,"mat-label"),s.Mc(96,"CLASE DE ACTIVIDAD"),s.Xb(),s.Yb(97,"mat-select",27),s.Kc(98,Me,2,2,"mat-option",10),s.Xb(),s.Kc(99,Ce,1,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(100,"div",28),s.Yb(101,"mat-form-field"),s.Yb(102,"mat-label"),s.Mc(103,"Costo Material"),s.Xb(),s.Yb(104,"input",29),s.gc("change",(function(e){return t.changeCosto(e)})),s.Xb(),s.Kc(105,Xe,1,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(106,"div",28),s.Yb(107,"mat-form-field"),s.Yb(108,"mat-label"),s.Mc(109,"Costo Mano de Obra"),s.Xb(),s.Yb(110,"input",30),s.gc("change",(function(e){return t.changeCosto(e)})),s.Xb(),s.Kc(111,Ye,1,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(112,"div",28),s.Yb(113,"mat-form-field"),s.Yb(114,"mat-label"),s.Mc(115,"Costo de Servicios"),s.Xb(),s.Yb(116,"input",31),s.gc("change",(function(e){return t.changeCosto(e)})),s.Xb(),s.Kc(117,ye,1,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(118,"div",28),s.Yb(119,"mat-form-field"),s.Yb(120,"mat-label"),s.Mc(121,"Costo Total"),s.Xb(),s.Tb(122,"input",32),s.Xb(),s.Xb(),s.Yb(123,"div",33),s.Yb(124,"mat-form-field"),s.Yb(125,"mat-label"),s.Mc(126,"Con la mejora quedan repuestos obsoletos?"),s.Xb(),s.Yb(127,"mat-select",34),s.Yb(128,"mat-option",35),s.Mc(129,"SI"),s.Xb(),s.Yb(130,"mat-option",36),s.Mc(131,"No"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(132,"div",33),s.Yb(133,"mat-form-field"),s.Yb(134,"mat-label"),s.Mc(135,"se cambia la planificacion de los repuestos?"),s.Xb(),s.Yb(136,"mat-select",37),s.Yb(137,"mat-option",35),s.Mc(138,"SI"),s.Xb(),s.Yb(139,"mat-option",36),s.Mc(140,"No"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(141,"div",33),s.Yb(142,"mat-form-field"),s.Yb(143,"mat-label"),s.Mc(144,"se matriculan nuevas referencias? "),s.Xb(),s.Yb(145,"mat-select",38),s.Yb(146,"mat-option",35),s.Mc(147,"SI"),s.Xb(),s.Yb(148,"mat-option",36),s.Mc(149,"No"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(150,"div",5),s.Yb(151,"mat-form-field"),s.Yb(152,"mat-label"),s.Mc(153,"BENEFICIO CUALITATIVO"),s.Xb(),s.Tb(154,"textarea",39),s.Xb(),s.Xb(),s.Yb(155,"div",5),s.Yb(156,"mat-form-field"),s.Yb(157,"mat-label"),s.Mc(158,"BENEFICIO CUANTITATIVO $"),s.Xb(),s.Tb(159,"input",40),s.Xb(),s.Xb(),s.Yb(160,"div",33),s.Yb(161,"mat-form-field"),s.Yb(162,"mat-label"),s.Mc(163,"DURACION DEL TRABAJO (DIAS)"),s.Xb(),s.Yb(164,"input",41),s.gc("change",(function(){return t.setDate()})),s.Xb(),s.Kc(165,Ee,1,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(166,"div",33),s.Yb(167,"mat-form-field"),s.Yb(168,"input",42),s.gc("change",(function(){return t.setDate()}))("dateChange",(function(e){return t.addEvent("change",e)})),s.Xb(),s.Tb(169,"mat-datepicker-toggle",43),s.Tb(170,"mat-datepicker",null,44),s.Kc(172,De,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(173,"div",33),s.Yb(174,"mat-form-field"),s.Yb(175,"mat-label"),s.Mc(176,"Fecha Final"),s.Xb(),s.Tb(177,"input",45),s.lc(178,"date"),s.Xb(),s.Xb(),s.Yb(179,"div",33),s.Yb(180,"mat-form-field"),s.Yb(181,"mat-label"),s.Mc(182,"Linea "),s.Xb(),s.Yb(183,"mat-select",46),s.gc("ngModelChange",(function(e){return t.onChangeLinea(e)})),s.Kc(184,Oe,2,2,"mat-option",10),s.Xb(),s.Xb(),s.Xb(),s.Yb(185,"div",33),s.Yb(186,"mat-form-field"),s.Yb(187,"mat-label"),s.Mc(188,"Horno "),s.Xb(),s.Yb(189,"mat-select",47),s.Kc(190,qe,2,2,"mat-option",10),s.Xb(),s.Xb(),s.Xb(),s.Yb(191,"div",33),s.Yb(192,"mat-form-field"),s.Yb(193,"mat-label"),s.Mc(194,"Clasificaci\xf3n"),s.Xb(),s.Yb(195,"mat-select",48),s.Tb(196,"mat-option",14),s.Kc(197,Ae,2,2,"mat-option",10),s.Xb(),s.Kc(198,Se,2,0,"mat-error",7),s.Xb(),s.Xb(),s.Yb(199,"div",33),s.Yb(200,"mat-checkbox",49),s.Mc(201,"Enviar Correo electronico al Jefe?"),s.Xb(),s.Xb(),s.Xb(),s.Yb(202,"button",50),s.Mc(203,"Crear orden"),s.Xb(),s.Xb(),s.Kc(204,Ne,3,1,"div",51),s.Xb(),s.Xb(),s.Xb()),2&e){var a=s.zc(7),i=s.zc(171);s.Eb(6),s.qc("formGroup",t.reactiveForm2),s.Eb(8),s.qc("ngIf",t.reactiveForm2.get("nombre").invalid),s.Eb(6),s.qc("ngIf",t.reactiveForm2.get("descripcion").invalid),s.Eb(6),s.qc("ngForOf",t.UsersStatusProponente||s.sc(49,Fe)),s.Eb(1),s.qc("ngIf",t.reactiveForm2.get("proponente").invalid),s.Eb(6),s.qc("ngForOf",t.UsersStatus||s.sc(50,Fe)),s.Eb(1),s.qc("ngIf",t.reactiveForm2.get("AsignadoA").invalid),s.Eb(5),s.qc("items",t.petsData),s.Eb(1),s.qc("ngIf",t.reactiveForm2.get("nombreDelPet").invalid),s.Eb(22),s.qc("ngIf",t.reactiveForm2.get("pasoTPM").invalid),s.Eb(5),s.qc("items",t.puestodetrabajoData),s.Eb(1),s.qc("ngIf",t.reactiveForm2.get("responsableDelPuestoDetrabajo").invalid),s.Eb(6),s.qc("ngIf",t.reactiveForm2.get("responsableEjecutor").invalid),s.Eb(5),s.qc("items",t.maquinasData),s.Eb(1),s.qc("ngIf",t.reactiveForm2.get("codigoDelEquipo").invalid),s.Eb(5),s.qc("items",t.ubcacionTecnicaData)("ngModel",t.ubicacionTecnica),s.Eb(1),s.qc("ngIf",t.reactiveForm2.get("ubicacionTecnica").invalid),s.Eb(6),s.qc("ngIf",t.reactiveForm2.get("CodigoNormaDeLiquidacion").invalid),s.Eb(6),s.qc("ngForOf",t.ClaseDeActividad||s.sc(51,Fe)),s.Eb(1),s.qc("ngIf",t.reactiveForm2.get("claseDeActividadID").invalid),s.Eb(5),s.qc("allowNegative","false")("currencyCode","COP"),s.Eb(1),s.qc("ngIf",t.reactiveForm2.get("costomaterial").invalid),s.Eb(5),s.qc("allowNegative","false")("currencyCode","COP"),s.Eb(1),s.qc("ngIf",t.reactiveForm2.get("costomanodeobra").invalid),s.Eb(5),s.qc("allowNegative","false")("currencyCode","COP"),s.Eb(1),s.qc("ngIf",t.reactiveForm2.get("costoservicios").invalid),s.Eb(5),s.qc("value",t.costoTotal)("allowNegative","false")("currencyCode","COP"),s.Eb(37),s.qc("allowNegative","false")("currencyCode","COP"),s.Eb(6),s.qc("ngIf",t.reactiveForm2.get("duraciondelTrabajo").invalid),s.Eb(3),s.qc("matDatepicker",i),s.Eb(1),s.qc("for",i),s.Eb(3),s.qc("ngIf",t.reactiveForm2.get("fechaInicio").invalid),s.Eb(5),s.qc("value",s.nc(178,46,t.fechaFinal,"dd/MM/yyyy")),s.Eb(7),s.qc("ngForOf",t.LineaData||s.sc(52,Fe)),s.Eb(6),s.qc("ngForOf",t.vHornoResultData||s.sc(53,Fe)),s.Eb(7),s.qc("ngForOf",t.ClasificacionData||s.sc(54,Fe)),s.Eb(1),s.qc("ngIf",t.reactiveForm2.get("clasificacion").invalid),s.Eb(4),s.qc("disabled",t.submitted||!a.valid),s.Eb(2),s.qc("ngIf",t.showMessages.error&&(null==t.errors?null:t.errors.length)&&!t.submitted)}},directives:[j.a,P.c,P.a,w.a,w.c,l.x,l.q,l.j,P.d,b.c,b.g,m.b,l.c,l.p,l.h,l.v,d.n,ee.b,u.a,d.m,te.a,p.n,ae,oe.b,oe.d,b.i,oe.a,re.a,f.b,b.b],pipes:[d.f],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"]}),Te);function xe(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"ingrese un nombre "),s.Xb())}function je(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"ingrese un nombre "),s.Xb())}function Pe(e,t){if(1&e&&(s.Yb(0,"mat-option",58),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.id),s.Eb(1),s.Nc(a.fullName)}}function we(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"seleccione un proponente "),s.Xb())}function ze(e,t){if(1&e&&(s.Yb(0,"mat-option",58),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.code),s.Eb(1),s.Nc(a.name)}}function Je(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"el estado de la orden"),s.Xb())}function Le(e,t){if(1&e&&(s.Yb(0,"mat-option",58),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.id),s.Eb(1),s.Nc(a.fullName)}}function Ge(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione una persona"),s.Xb())}function Ze(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione un pet "),s.Xb())}function Re(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione un paso tpm "),s.Xb())}function _e(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione un responsable "),s.Xb())}function Ue(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"este campo es requerido"),s.Xb())}function Ke(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione un equipo "),s.Xb())}function Be(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"selecione una opcion "),s.Xb())}function Ve(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"ingrese un nombre "),s.Xb())}function $e(e,t){if(1&e&&(s.Yb(0,"mat-option",58),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.id),s.Eb(1),s.Nc(a.nombre)}}function He(e,t){1&e&&s.Tb(0,"mat-error")}function Qe(e,t){1&e&&s.Tb(0,"mat-error")}function We(e,t){1&e&&s.Tb(0,"mat-error")}function et(e,t){1&e&&s.Tb(0,"mat-error")}function tt(e,t){1&e&&s.Tb(0,"mat-error")}function at(e,t){1&e&&(s.Yb(0,"mat-error"),s.Mc(1,"Seleccione una fecha "),s.Xb())}function it(e,t){if(1&e&&(s.Yb(0,"mat-option",58),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.id),s.Eb(1),s.Nc(a.descripcion)}}function ot(e,t){if(1&e&&(s.Yb(0,"mat-option",58),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.id),s.Eb(1),s.Nc(a.descripcion)}}function rt(e,t){if(1&e&&(s.Yb(0,"mat-option",58),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.qc("value",a.id),s.Eb(1),s.Nc(a.nombre)}}function nt(e,t){if(1&e&&(s.Yb(0,"li",62),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.Eb(1),s.Nc(a)}}function ct(e,t){if(1&e&&(s.Yb(0,"div",59),s.Yb(1,"ul",60),s.Kc(2,nt,2,1,"li",61),s.Xb(),s.Xb()),2&e){var a=s.kc(2);s.Eb(2),s.qc("ngForOf",a.errors)}}var lt=function(){return[]};function st(e,t){if(1&e){var a=s.Zb();s.Yb(0,"div"),s.Yb(1,"form",3,4),s.gc("ngSubmit",(function(){return s.Cc(a),s.kc().onSubmitOrderzmej()})),s.Yb(3,"div",5),s.Yb(4,"div",6),s.Yb(5,"mat-form-field"),s.Yb(6,"mat-label"),s.Mc(7,"NOMBRE DE LA PROPUESTA"),s.Xb(),s.Tb(8,"input",7),s.Kc(9,xe,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(10,"div",6),s.Yb(11,"mat-form-field"),s.Yb(12,"mat-label"),s.Mc(13,"DESCRIPCION DETALLADA DE LA PROPUESTA"),s.Xb(),s.Tb(14,"textarea",8),s.Kc(15,je,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(16,"div",9),s.Yb(17,"mat-form-field"),s.Yb(18,"mat-label"),s.Mc(19,"PROPONENTE"),s.Xb(),s.Yb(20,"mat-select",10),s.Kc(21,Pe,2,2,"mat-option",11),s.Xb(),s.Kc(22,we,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(23,"div",9),s.Yb(24,"mat-form-field"),s.Yb(25,"mat-label"),s.Mc(26,"Estado"),s.Xb(),s.Yb(27,"mat-select",12),s.gc("selectionChange",(function(e){return s.Cc(a),s.kc().GetAllUserByStatusCode(e.value)})),s.Kc(28,ze,2,2,"mat-option",11),s.Xb(),s.Kc(29,Je,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(30,"div",9),s.Yb(31,"mat-form-field"),s.Yb(32,"mat-label"),s.Mc(33,"JEFE DE MANTENIMIENTO"),s.Xb(),s.Yb(34,"mat-select",13),s.Kc(35,Le,2,2,"mat-option",11),s.Xb(),s.Kc(36,Ge,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(37,"div",6),s.Yb(38,"mat-form-field"),s.Yb(39,"mat-label"),s.Mc(40,"Nombre ET"),s.Xb(),s.Tb(41,"mtx-select",14),s.Kc(42,Ze,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(43,"div",6),s.Yb(44,"mat-form-field"),s.Yb(45,"mat-label"),s.Mc(46,"PASO TPM"),s.Xb(),s.Yb(47,"mat-select",15),s.Yb(48,"mat-option",16),s.Mc(49,"0"),s.Xb(),s.Yb(50,"mat-option",17),s.Mc(51,"1"),s.Xb(),s.Yb(52,"mat-option",18),s.Mc(53,"2"),s.Xb(),s.Yb(54,"mat-option",19),s.Mc(55,"3"),s.Xb(),s.Yb(56,"mat-option",20),s.Mc(57,"4"),s.Xb(),s.Yb(58,"mat-option",21),s.Mc(59,"5"),s.Xb(),s.Yb(60,"mat-option",22),s.Mc(61,"6"),s.Xb(),s.Yb(62,"mat-option",23),s.Mc(63,"7"),s.Xb(),s.Xb(),s.Kc(64,Re,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(65,"div",6),s.Yb(66,"mat-form-field"),s.Yb(67,"mat-label"),s.Mc(68,"JEFE DE L\xedNEA"),s.Xb(),s.Tb(69,"mtx-select",24),s.Kc(70,_e,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(71,"div",6),s.Yb(72,"mat-form-field"),s.Yb(73,"mat-label"),s.Mc(74,"RESPONSABLE DE EJECUTAR"),s.Xb(),s.Tb(75,"input",25),s.Kc(76,Ue,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(77,"div",6),s.Yb(78,"mat-form-field"),s.Yb(79,"mat-label"),s.Mc(80,"CODIGO DEL EQUIPO"),s.Xb(),s.Yb(81,"mtx-select",26),s.gc("ngModelChange",(function(e){return s.Cc(a),s.kc().onChangeMaquina(e)})),s.Xb(),s.Kc(82,Ke,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(83,"div",6),s.Yb(84,"mat-form-field"),s.Yb(85,"mat-label"),s.Mc(86,"UBICACI\xd3N TECNICA"),s.Xb(),s.Yb(87,"mtx-select",27),s.gc("ngModelChange",(function(e){return s.Cc(a),s.kc().onChangeUbicacion(e)}))("ngModelChange",(function(e){return s.Cc(a),s.kc().ubicacionTecnica=e})),s.Xb(),s.Kc(88,Be,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(89,"div",6),s.Yb(90,"mat-form-field"),s.Yb(91,"mat-label"),s.Mc(92,"# CeCo "),s.Xb(),s.Tb(93,"input",28),s.Kc(94,Ve,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(95,"div",6),s.Yb(96,"mat-form-field"),s.Yb(97,"mat-label"),s.Mc(98,"CLASE DE ACTIVIDAD"),s.Xb(),s.Yb(99,"mat-select",29),s.Kc(100,$e,2,2,"mat-option",11),s.Xb(),s.Kc(101,He,1,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(102,"div",30),s.Yb(103,"mat-form-field"),s.Yb(104,"mat-label"),s.Mc(105,"Costo Material"),s.Xb(),s.Yb(106,"input",31),s.gc("change",(function(e){return s.Cc(a),s.kc().changeCosto(e)}))("blur",(function(e){return s.Cc(a),s.kc().updateUSAmount(e)})),s.Xb(),s.Kc(107,Qe,1,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(108,"div",30),s.Yb(109,"mat-form-field"),s.Yb(110,"mat-label"),s.Mc(111,"Costo Mano de Obra"),s.Xb(),s.Yb(112,"input",32),s.gc("change",(function(e){return s.Cc(a),s.kc().changeCosto(e)}))("blur",(function(e){return s.Cc(a),s.kc().updateUSAmount(e)})),s.Xb(),s.Kc(113,We,1,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(114,"div",30),s.Yb(115,"mat-form-field"),s.Yb(116,"mat-label"),s.Mc(117,"Costo de Servicios"),s.Xb(),s.Yb(118,"input",33),s.gc("change",(function(e){return s.Cc(a),s.kc().changeCosto(e)}))("blur",(function(e){return s.Cc(a),s.kc().updateUSAmount(e)})),s.Xb(),s.Kc(119,et,1,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(120,"div",30),s.Yb(121,"mat-form-field"),s.Yb(122,"mat-label"),s.Mc(123,"Costo Total"),s.Xb(),s.Tb(124,"input",34),s.Xb(),s.Xb(),s.Yb(125,"div",30),s.Yb(126,"mat-form-field"),s.Yb(127,"mat-label"),s.Mc(128,"Costo Real"),s.Xb(),s.Yb(129,"input",35),s.gc("blur",(function(e){return s.Cc(a),s.kc().updateUSAmount(e)})),s.Xb(),s.Xb(),s.Xb(),s.Yb(130,"div",30),s.Yb(131,"mat-form-field"),s.Yb(132,"mat-label"),s.Mc(133,"Valor Comprometido"),s.Xb(),s.Yb(134,"input",36),s.gc("blur",(function(e){return s.Cc(a),s.kc().updateUSAmount(e)})),s.Xb(),s.Xb(),s.Xb(),s.Yb(135,"div",9),s.Yb(136,"mat-form-field"),s.Yb(137,"mat-label"),s.Mc(138,"Con la mejora quedan repuestos obsoletos?"),s.Xb(),s.Yb(139,"mat-select",37),s.Yb(140,"mat-option",38),s.Mc(141,"SI"),s.Xb(),s.Yb(142,"mat-option",39),s.Mc(143,"No"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(144,"div",9),s.Yb(145,"mat-form-field"),s.Yb(146,"mat-label"),s.Mc(147,"se cambia la planificacion de los repuestos?"),s.Xb(),s.Yb(148,"mat-select",40),s.Yb(149,"mat-option",38),s.Mc(150,"SI"),s.Xb(),s.Yb(151,"mat-option",39),s.Mc(152,"No"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(153,"div",9),s.Yb(154,"mat-form-field"),s.Yb(155,"mat-label"),s.Mc(156,"se matriculan nuevas referencias? "),s.Xb(),s.Yb(157,"mat-select",41),s.Yb(158,"mat-option",38),s.Mc(159,"SI"),s.Xb(),s.Yb(160,"mat-option",39),s.Mc(161,"No"),s.Xb(),s.Xb(),s.Xb(),s.Xb(),s.Yb(162,"div",6),s.Yb(163,"mat-form-field"),s.Yb(164,"mat-label"),s.Mc(165,"BENEFICIO CUALITATIVO"),s.Xb(),s.Tb(166,"textarea",42),s.Xb(),s.Xb(),s.Yb(167,"div",6),s.Yb(168,"mat-form-field"),s.Yb(169,"mat-label"),s.Mc(170,"BENEFICIO CUANTITATIVO $"),s.Xb(),s.Tb(171,"input",43),s.Xb(),s.Xb(),s.Yb(172,"div",9),s.Yb(173,"mat-form-field"),s.Yb(174,"mat-label"),s.Mc(175,"DURACION DEL TRABAJO (DIAS)"),s.Xb(),s.Yb(176,"input",44),s.gc("change",(function(){return s.Cc(a),s.kc().setDate()})),s.Xb(),s.Kc(177,tt,1,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(178,"div",9),s.Yb(179,"mat-form-field"),s.Yb(180,"input",45),s.gc("dateChange",(function(e){return s.Cc(a),s.kc().addEvent("change",e)})),s.Xb(),s.Tb(181,"mat-datepicker-toggle",46),s.Tb(182,"mat-datepicker",null,47),s.Kc(184,at,2,0,"mat-error",2),s.Xb(),s.Xb(),s.Yb(185,"div",9),s.Yb(186,"mat-form-field"),s.Yb(187,"mat-label"),s.Mc(188,"Fecha Final"),s.Xb(),s.Tb(189,"input",48),s.lc(190,"date"),s.Xb(),s.Xb(),s.Yb(191,"div",9),s.Yb(192,"mat-form-field"),s.Yb(193,"mat-label"),s.Mc(194,"Linea "),s.Xb(),s.Yb(195,"mat-select",49),s.gc("ngModelChange",(function(e){return s.Cc(a),s.kc().onChangeLinea(e)})),s.Kc(196,it,2,2,"mat-option",11),s.Xb(),s.Xb(),s.Xb(),s.Yb(197,"div",9),s.Yb(198,"mat-form-field"),s.Yb(199,"mat-label"),s.Mc(200,"Horno "),s.Xb(),s.Yb(201,"mat-select",50),s.Kc(202,ot,2,2,"mat-option",11),s.Xb(),s.Xb(),s.Xb(),s.Yb(203,"div",9),s.Yb(204,"mat-form-field"),s.Yb(205,"mat-label"),s.Mc(206,"Clasificaci\xf3n"),s.Xb(),s.Yb(207,"mat-select",51),s.Tb(208,"mat-option",16),s.Kc(209,rt,2,2,"mat-option",11),s.Xb(),s.Xb(),s.Xb(),s.Yb(210,"div",9),s.Yb(211,"mat-form-field"),s.Yb(212,"mat-label"),s.Mc(213,"Orden de Manteniento"),s.Xb(),s.Tb(214,"input",52),s.Xb(),s.Xb(),s.Yb(215,"div",53),s.Yb(216,"mat-form-field"),s.Yb(217,"mat-label"),s.Mc(218,"Nota de matenimiento"),s.Xb(),s.Tb(219,"textarea",54),s.Xb(),s.Xb(),s.Yb(220,"div",9),s.Yb(221,"mat-checkbox",55),s.Mc(222,"Enviar Correo electronico al Jefe?"),s.Xb(),s.Xb(),s.Xb(),s.Yb(223,"button",56),s.Mc(224,"Actualizar Orden"),s.Xb(),s.Xb(),s.Kc(225,ct,3,1,"div",57),s.Xb()}if(2&e){var i=s.zc(2),o=s.zc(183),r=s.kc();s.Eb(1),s.qc("formGroup",r.reactiveForm2),s.Eb(8),s.qc("ngIf",r.reactiveForm2.get("nombre").invalid),s.Eb(6),s.qc("ngIf",r.reactiveForm2.get("descripcion").invalid),s.Eb(6),s.qc("ngForOf",r.UsersStatusProponente||s.sc(54,lt)),s.Eb(1),s.qc("ngIf",r.reactiveForm2.get("proponente").invalid),s.Eb(6),s.qc("ngForOf",r.FlujoData||s.sc(55,lt)),s.Eb(1),s.qc("ngIf",r.reactiveForm2.get("estado").invalid),s.Eb(6),s.qc("ngForOf",r.UsersStatus||s.sc(56,lt)),s.Eb(1),s.qc("ngIf",r.reactiveForm2.get("AsignadoA").invalid),s.Eb(5),s.qc("items",r.petsData),s.Eb(1),s.qc("ngIf",r.reactiveForm2.get("nombreDelPet").invalid),s.Eb(22),s.qc("ngIf",r.reactiveForm2.get("pasoTPM").invalid),s.Eb(5),s.qc("items",r.puestodetrabajoData),s.Eb(1),s.qc("ngIf",r.reactiveForm2.get("responsableDelPuestoDetrabajo").invalid),s.Eb(6),s.qc("ngIf",r.reactiveForm2.get("responsableEjecutor").invalid),s.Eb(5),s.qc("items",r.maquinasData),s.Eb(1),s.qc("ngIf",r.reactiveForm2.get("codigoDelEquipo").invalid),s.Eb(5),s.qc("items",r.ubcacionTecnicaData)("ngModel",r.ubicacionTecnica),s.Eb(1),s.qc("ngIf",r.reactiveForm2.get("ubicacionTecnica").invalid),s.Eb(6),s.qc("ngIf",r.reactiveForm2.get("CodigoNormaDeLiquidacion").invalid),s.Eb(6),s.qc("ngForOf",r.ClaseDeActividad||s.sc(57,lt)),s.Eb(1),s.qc("ngIf",r.reactiveForm2.get("claseDeActividadID").invalid),s.Eb(5),s.qc("allowNegative","false")("currencyCode","COP"),s.Eb(1),s.qc("ngIf",r.reactiveForm2.get("costomaterial").invalid),s.Eb(5),s.qc("allowNegative","false")("currencyCode","COP"),s.Eb(1),s.qc("ngIf",r.reactiveForm2.get("costomanodeobra").invalid),s.Eb(5),s.qc("allowNegative","false")("currencyCode","COP"),s.Eb(1),s.qc("ngIf",r.reactiveForm2.get("costoservicios").invalid),s.Eb(5),s.qc("value",r.costoTotal)("allowNegative","false")("currencyCode","COP"),s.Eb(5),s.qc("allowNegative","false")("currencyCode","COP"),s.Eb(5),s.qc("allowNegative","false")("currencyCode","COP"),s.Eb(37),s.qc("allowNegative","false")("currencyCode","COP"),s.Eb(6),s.qc("ngIf",r.reactiveForm2.get("duraciondelTrabajo").invalid),s.Eb(3),s.qc("matDatepicker",o),s.Eb(1),s.qc("for",o),s.Eb(3),s.qc("ngIf",r.reactiveForm2.get("fechaInicio").invalid),s.Eb(5),s.qc("value",s.nc(190,51,r.fechaFinal,"dd/MM/yyyy")),s.Eb(7),s.qc("ngForOf",r.LineaData||s.sc(58,lt)),s.Eb(6),s.qc("ngForOf",r.vHornoResultData||s.sc(59,lt)),s.Eb(7),s.qc("ngForOf",r.ClasificacionData||s.sc(60,lt)),s.Eb(14),s.qc("disabled",r.submitted||!i.valid),s.Eb(2),s.qc("ngIf",r.showMessages.error&&(null==r.errors?null:r.errors.length)&&!r.submitted)}}var bt,ut=((bt=function(){function e(t,a,i,o,r,n){_classCallCheck(this,e),this.fb=t,this.route=a,this.authService=i,this.authorizationService=o,this.router=r,this.dateAdapter=n,this.isAuthenticated=!1,this.orderZMEJ={},this.errors=[],this.showMessages={},this.loading=!1,this.NormaDeLiquidacionData=[],this.LineaData=[],this.vHornoResultData=[],this.HornoData=[],this.maquinasData=[],this.ClasificacionData=[],this.ubcacionTecnicaData=[],this.FlujoData=[],this.submitted=!1,this.alive=!0,this.ubicacionTecnica="",this.codigoDelEquipo="",this.costoTotal=0,this.show_form=!1,this.usAmount=0,this.dateAdapter.setLocale("en-GB"),this.showMessages={success:!0,error:!0},this.reactiveForm2=this.fb.group({id:null,nombre:["",[l.w.required]],descripcion:["",[l.w.required]],proponente:["",[l.w.required]],AsignadoA:["",[l.w.required]],nombreDelPet:[""],pasoTPM:[""],responsableDelPuestoDetrabajo:[""],responsableEjecutor:[""],codigoDelEquipo:[""],descripcionDelEquipo:[""],ubicacionTecnica:[""],descripcionDeUbicacionTecnica:[""],NormaDeLiquidacionId:["1"],CodigoNormaDeLiquidacion:[""],claseDeActividadID:[""],costomaterial:["0"],costomanodeobra:["0"],costoservicios:["0"],valcomprometido:["0"],costoPlaneado:["0"],beneficioCualitativo:"",beneficioCuantitativo:0,duraciondelTrabajo:["0"],fechaInicio:[""],pregunta1:"",pregunta2:"",pregunta3:"",estado:[0],linea:"",horno:"",costoreal:0,ordenMantenimiento:"",notaMantenimiento:"",clasificacion:"0",enviarCorreo:!1}),i.isLoggedIn()&&(this.isAuthenticated=!0,this.GetAllClaseDeActividad(),this.GetAllNormaDeLiquidacion(),this.GetAllUserValidador(),this.GetAllProponente(),this.GetAllMaquinas(),this.GetAllPets(),this.GetAllPuestoDeTrabajos(),this.GetAllUbicacionTecnica(),this.GetAllGrupoPlanificador(),this.GetAllResCrontrolProd(),this.GetAllStatusCode(),this.GetAllClasificacion(),this.delayAndShow())}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.route.paramMap.subscribe((function(t){e.getOrderZMEJjById(t.get("id"))}))}},{key:"onChangeLinea",value:function(e){try{this.reactiveForm2.controls.horno.setValue(""),this.vHornoResultData=this.HornoData.filter((function(t){return t.resControlProdId===e}))}catch(t){}}},{key:"GetAllClasificacion",value:function(){var e=this;try{this.authorizationService.get("ZMEJ.api/clasificacion/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ClasificacionData=t.body}))}catch(t){console.log(t)}}},{key:"getOrderZMEJjById",value:function(e){var t=this;try{this.loading=!0,this.authorizationService.get("api/OrderZMEJ/findbyid/"+e).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){t.loading=!1,t.orderZMEJ=e.body,t.SetOrderForm()}))}catch(a){this.loading=!1,console.log(a)}}},{key:"SetOrderForm",value:function(){try{null!=this.orderZMEJ&&(console.log(this.orderZMEJ),this.reactiveForm2.patchValue({id:this.orderZMEJ.id,nombre:this.orderZMEJ.nombre,descripcion:this.orderZMEJ.descripcion,proponente:this.orderZMEJ.proponente,AsignadoA:this.orderZMEJ.asignadoA,nombreDelPet:this.orderZMEJ.nombreDelPet,pasoTPM:this.orderZMEJ.pasoTPM,responsableDelPuestoDetrabajo:this.orderZMEJ.responsableDelPuestoDetrabajo,responsableEjecutor:this.orderZMEJ.responsableEjecutor,codigoDelEquipo:this.orderZMEJ.codigoDelEquipo,descripcionDelEquipo:this.orderZMEJ.descripcionDelEquipo,ubicacionTecnica:this.orderZMEJ.ubicacionTecnica,descripcionDeUbicacionTecnica:this.orderZMEJ.descripcionDeUbicacionTecnica,CodigoNormaDeLiquidacion:this.orderZMEJ.codigoNormaDeLiquidacion,claseDeActividadID:this.orderZMEJ.claseDeActividadID,costomaterial:this.orderZMEJ.costoMaterial,costomanodeobra:this.orderZMEJ.costomanodeobra,costoservicios:this.orderZMEJ.costoServicios,valcomprometido:this.orderZMEJ.valComprometido,costoPlaneado:this.orderZMEJ.costoPlaneado,beneficioCualitativo:this.orderZMEJ.beneficioCualitativo,beneficioCuantitativo:this.orderZMEJ.beneficioCuantitativo,duraciondelTrabajo:this.orderZMEJ.duraciondelTrabajo,fechaInicio:this.orderZMEJ.fechaInicio,pregunta1:this.orderZMEJ.pregunta1,pregunta2:this.orderZMEJ.pregunta2,pregunta3:this.orderZMEJ.pregunta3,ordenMantenimiento:this.orderZMEJ.ordenMantenimiento,notaMantenimiento:this.orderZMEJ.notaMantenimiento,linea:this.orderZMEJ.linea,horno:this.orderZMEJ.horno,costoreal:this.orderZMEJ.costoReal,estado:this.orderZMEJ.estado,clasificacion:this.orderZMEJ.clasificacion,enviarCorreo:!1}),this.changeCosto(0),this.ubicacionTecnica=this.orderZMEJ.ubicacionTecnica,this.fechaFinal=this.orderZMEJ.fechaFin,this.GetAllUserByStatusCode(this.orderZMEJ.estado),this.onChangeUbicacion(this.orderZMEJ.ubicacionTecnica))}catch(e){}}},{key:"delayAndShow",value:function(){var e=this;try{setTimeout((function(){e.show_form=!0,console.log(e.show_form)}),3e3)}catch(t){}}},{key:"GetAllUserValidador",value:function(){var e=this;this.authorizationService.get("api/RoleStatusCode/getUserByCode/2/"+X.a.aplicationId).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.UsersStatus=t.body}),(function(e){}))}},{key:"GetAllProponente",value:function(){var e=this;this.authorizationService.get("api/RoleStatusCode/getUserByCode/1/"+X.a.aplicationId).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.UsersStatusProponente=t.body}),(function(e){}))}},{key:"GetAllNormaDeLiquidacion",value:function(){var e=this;this.authorizationService.get("ZMEJ.api/NormaDeLiquidacion/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.NormaDeLiquidacionData=t.body}),(function(e){}))}},{key:"GetAllClaseDeActividad",value:function(){var e=this;this.authorizationService.get("ZMEJ.api/ClaseDeActividad/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ClaseDeActividad=t.body}),(function(e){}))}},{key:"GetAllPets",value:function(){var e=this;this.authorizationService.get("maestrassip.api/pets/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.petsData=t.body}),(function(e){}))}},{key:"GetAllResCrontrolProd",value:function(){var e=this;this.authorizationService.get("zmej.api/resctrlproduccion/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.LineaData=t.body}),(function(e){}))}},{key:"GetAllUserByStatusCode",value:function(e){var t=this;try{this.loading=!0,this.authorizationService.get("api/RoleStatusCode/getUserByCode/"+e+"/"+X.a.aplicationId).pipe(Object(r.a)((function(){return t.alive}))).subscribe((function(e){t.UsersStatus=e.body,t.loading=!1}),(function(e){}))}catch(a){this.loading=!1}}},{key:"GetAllStatusCode",value:function(){var e=this;try{this.authorizationService.get("zmej.api/statuscode/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.FlujoData=t.body}))}catch(t){console.log(t)}}},{key:"GetAllGrupoPlanificador",value:function(){var e=this;this.authorizationService.get("zmej.api/grupoPlanificador/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.HornoData=t.body,e.vHornoResultData=e.HornoData}),(function(e){}))}},{key:"GetAllMaquinas",value:function(){var e=this;this.maquinasData=[],this.authorizationService.get("zmej.api/maquinas/getall").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.maquinasData=t.body}),(function(e){}))}},{key:"GetAllUbicacionTecnica",value:function(){var e=this;this.authorizationService.get("zmej.api/ubicacionTecnica/getallactive").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.ubcacionTecnicaData=t.body}),(function(e){}))}},{key:"GetAllPuestoDeTrabajos",value:function(){var e=this;this.authorizationService.get("zmej.api/puestodetrabajo/getallactive").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.puestodetrabajoData=t.body}),(function(e){}))}},{key:"onSubmitOrderzmej",value:function(){var e=this;this.errors=[],this.messages=[],this.submitted=!0;try{this.authorizationService.post("api/OrderZMEJ/update",this.reactiveForm2.value).pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){200==t.status?(console.log("redirect..."),e.messages[0]="datos guardados correctamente",setTimeout((function(){return e.router.navigateByUrl("/orders/zmej")}),e.redirectDelay)):403==t.status?(e.submitted=!1,e.errors[0]="No tienes permiso para realizar esta acci\xf3n"):(e.submitted=!1,e.errors[0]=t.error,console.log(t.error))}),(function(t){e.submitted=!1,e.errors=t}))}catch(t){console.log(t),this.submitted=!1}}},{key:"onChangeUbicacion",value:function(e){try{console.log(e),this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue("");var t=this.ubcacionTecnicaData.filter((function(t){return t.ubicacion===e}));null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDeUbicacionTecnica.setValue(t[0].descripcion))}catch(a){console.log("error en ubicacion tecnica")}}},{key:"onChangeMaquina",value:function(e){try{this.reactiveForm2.controls.descripcionDelEquipo.setValue("");var t=this.maquinasData.filter((function(t){return t.maquina===e}));null!=t&&(console.log(t[0]),this.reactiveForm2.controls.descripcionDelEquipo.setValue(t[0].descripcion))}catch(a){console.log("error en onChangeMaquina ")}}},{key:"changeCosto",value:function(e){try{var t=this.reactiveForm2.get("costoservicios"),a=this.reactiveForm2.get("costomanodeobra"),i=this.reactiveForm2.get("costomaterial"),o=+t.value,r=+a.value,n=+i.value;console.log(o),console.log(r),this.costoTotal=o+r+n}catch(c){}}},{key:"numberFormat",value:function(e){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(e)}},{key:"updateUSAmount",value:function(e){this.usAmount=e.target.value}},{key:"setDate",value:function(){try{var e=this.reactiveForm2.get("fechaInicio").value,t=+this.reactiveForm2.get("duraciondelTrabajo").value,a=new Date(e);new Date,console.log(a),this.fechaFinal=this.addDays(a,t)}catch(i){}}},{key:"addDays",value:function(e,t){return e.setDate(e.getDate()+t),e}},{key:"addEvent",value:function(e,t){this.setDate()}}]),e}()).\u0275fac=function(e){return new(e||bt)(s.Sb(l.e),s.Sb(o.a),s.Sb(n.b),s.Sb(n.c),s.Sb(o.f),s.Sb(p.c))},bt.\u0275cmp=s.Mb({type:bt,selectors:[["ngx-orderzmej"]],decls:7,vars:1,consts:[["fxLayout","row wrap",1,"matero-row"],["fxFlex","100","fxFlex.lt-sm","100",1,"matero-col"],[4,"ngIf"],[1,"form-field-full",3,"formGroup","ngSubmit"],["form","ngForm"],["fxLayout","row wrap","fxLayoutGap","8px grid"],["fxFlex","50","fxFlex.lt-sm","100"],["matInput","","placeholder","nombre de la propuesta","formControlName","nombre","required",""],["matInput","","cdkTextareaAutosize","","formControlName","descripcion","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["fxFlex","33.3","fxFlex.lt-sm","100"],["required","","formControlName","proponente","required",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","estado","required","",3,"selectionChange"],["required","","formControlName","AsignadoA","required",""],["bindLabel","descripcion","bindValue","descripcion","autofocus","","formControlName","nombreDelPet",3,"items"],["formControlName","pasoTPM"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["bindLabel","fullDescripcion","bindValue","fullDescripcion","autofocus","","formControlName","responsableDelPuestoDetrabajo",3,"items"],["matInput","","placeholder","Simple placeholder","type","text","formControlName","responsableEjecutor"],["bindLabel","fullDescripcion","bindValue","maquina","autofocus","","formControlName","codigoDelEquipo",3,"items","ngModelChange"],["bindLabel","fullDescripcion","bindValue","fullDescripcion","autofocus","","formControlName","ubicacionTecnica",3,"items","ngModel","ngModelChange"],["matInput","","placeholder","nombre","formControlName","CodigoNormaDeLiquidacion"],["formControlName","claseDeActividadID"],["fxFlex","20","fxFlex.lt-sm","100"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomaterial","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","change","blur"],["matInput","","placeholder","Costo Material","type","text","formControlName","costomanodeobra","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","change","blur"],["matInput","","placeholder","Costo Material","type","text","formControlName","costoservicios","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","change","blur"],["matInput","","mvndrMatCurrencyFormat","","formControlName","costoPlaneado","readonly","",3,"value","allowNegative","currencyCode"],["matInput","","placeholder","Costo Real","type","text","formControlName","costoreal","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","blur"],["matInput","","placeholder","Costo Real","type","text","formControlName","valcomprometido","mvndrMatCurrencyFormat","",3,"allowNegative","currencyCode","blur"],["formControlName","pregunta1"],["value","Si"],["value","No"],["formControlName","pregunta2"],["formControlName","pregunta3"],["matInput","","cdkTextareaAutosize","","formControlName","beneficioCualitativo","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["matInput","","placeholder","beneficioCuantitativo","mvndrMatCurrencyFormat","","formControlName","beneficioCuantitativo",3,"allowNegative","currencyCode"],["matInput","","placeholder","","formControlName","duraciondelTrabajo",3,"change"],["matInput","","placeholder","Fecha de inicio","formControlName","fechaInicio",3,"matDatepicker","dateChange"],["matSuffix","",3,"for"],["picker2",""],["matInput","","placeholder","",3,"value"],["formControlName","linea",3,"ngModelChange"],["formControlName","horno"],["formControlName","clasificacion"],["matInput","","placeholder","Orden","type","text","formControlName","ordenMantenimiento"],["fxFlex","66.3","fxFlex.lt-sm","100"],["matInput","","cdkTextareaAutosize","","formControlName","notaMantenimiento","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5"],["id","amateur","color","primary","formControlName","enviarCorreo",1,"amateur"],["mat-raised-button","","color","primary",1,"m-t-8",3,"disabled"],["class","m-t-16","outline","danger",4,"ngIf"],[3,"value"],["outline","danger",1,"m-t-16"],[1,"alert-message-list"],["class","alert-message",4,"ngFor","ngForOf"],[1,"alert-message"]],template:function(e,t){1&e&&(s.Tb(0,"page-header"),s.Yb(1,"div",0),s.Yb(2,"div",1),s.Yb(3,"mat-card"),s.Yb(4,"mat-card-title"),s.Mc(5,"Editar Orden "),s.Xb(),s.Kc(6,st,226,61,"div",2),s.Xb(),s.Xb(),s.Xb()),2&e&&(s.Eb(6),s.qc("ngIf",t.show_form&&null!=t.orderZMEJ&&null!=t.orderZMEJ.id))},directives:[j.a,P.c,P.a,w.a,w.c,d.n,l.x,l.q,l.j,P.d,b.c,b.g,m.b,l.c,l.p,l.h,l.v,ee.b,u.a,d.m,te.a,p.n,ae,oe.b,oe.d,b.i,oe.a,re.a,f.b,b.b],pipes:[d.f],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"]}),bt);function dt(e,t){if(1&e&&(s.Yb(0,"mat-option",8),s.Mc(1),s.Xb()),2&e){var a=t.$implicit;s.rc("value",a.code),s.Eb(1),s.Nc(a.name)}}var mt,ft,pt,gt=function(){return[5,10,20]},ht=[{path:"zmej",component:W,data:{title:"Ordenes"}},{path:"my_orders",component:(mt=function(){function e(t,a,i,o,r,n,c){var l=this;_classCallCheck(this,e),this.authService=t,this.pagerService=a,this.datePipe=i,this.currencyPipe=o,this.cdr=r,this.authorizationService=n,this._router=c,this.FlujoData=[],this.isAuthenticated=!1,this.alive=!0,this.columns=[{header:"Orden",field:"ordenMantenimiento",width:"100px"},{header:"Nombre",field:"Nombre",formatter:function(e){return'<span class="sortable" (click)="viewOrderzmejDetail('.concat(e.id,')">').concat(e.nombre,"</span>")}},{header:"ET",field:"nombreDelPet"},{header:"Costo Real",field:"costoReal",formatter:function(e){return""+l.currencyPipe.transform(e.costoReal,"","symbol","1.0-0")}},{header:"Costo Planeado",field:"costoPlaneado",formatter:function(e){return""+l.currencyPipe.transform(e.costoPlaneado,"","symbol","1.0-0")}},{header:"Estado",field:"nombreEstado"},{header:"Clasificaci\xf3n",field:"nombreClasificacion"},{header:"Fecha de inicio",field:"fechaInicio",formatter:function(e){return""+l.datePipe.transform(e.fechaInicio,"dd/MM/yyyy")}},{header:"codigo del equipo",field:"codigoDelEquipo"},{header:"Descripcion del equipo",field:"descripcionDelEquipo"},{header:"Option",field:"option",width:"120px",pinned:"right",right:"0px",type:"button",buttons:[{type:"icon",text:"Ver detalle",icon:"visibility",tooltip:"Ver detalle",click:function(e){return l.viewOrderzmejDetail(e)}},{icon:"edit",tooltip:"Editar",type:"icon",click:function(e){return l.EditOrderzmejDetail(e)}}]}],this.list=[],this.total=0,this.isLoading=!0,this.query={q:"",sort:"stars",name:"0",page:0,per_page:10},t.isLoggedIn()&&(this.isAuthenticated=!0,this.GetAllMyOrderZMEJ(),this.GetAllStatusCode())}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"GetAllStatusCode",value:function(){var e=this;try{this.authorizationService.get("zmej.api/statuscode/getAll").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.FlujoData=t.body}))}catch(t){console.log(t)}}},{key:"GetAllMyOrderZMEJ",value:function(){var e=this;try{this.authorizationService.get("zmej.api/OrderZMEJ/getAllAssigned").pipe(Object(r.a)((function(){return e.alive}))).subscribe((function(t){e.OrderData=t.body,null!=e.OrderData&&(e.setpage(),e.total=e.OrderData.length,e.cdr.detectChanges()),e.isLoading=!1}))}catch(t){console.log(t)}}},{key:"applyFilter",value:function(e){e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e}},{key:"addOrderzmej",value:function(e){null==e&&this._router.navigate(["/tickets/orders/create-zmej"])}},{key:"viewOrderzmejDetail",value:function(e){null!=e&&this._router.navigate(["/ordenes/order-zmej-details/"+e.id])}},{key:"getNextPage",value:function(e){this.query.page=e.pageIndex,this.query.per_page=e.pageSize,this.setpage()}},{key:"search",value:function(){this.query.page=0,this.setpage()}},{key:"setpage",value:function(){try{var e=this.pagerService.getPager(this.OrderData.length,this.query.page+1,this.query.per_page);this.list=this.OrderData.slice(e.startIndex,e.endIndex+1)}catch(t){}}},{key:"EditOrderzmejDetail",value:function(e){null!=e&&this._router.navigate(["/ordenes/edit-zmej/"+e.id])}},{key:"params",get:function(){var e=Object.assign({},this.query);return e.page+=1,Object(U.a)(e)}}]),e}(),mt.\u0275fac=function(e){return new(e||mt)(s.Sb(n.b),s.Sb(n.e),s.Sb(d.f),s.Sb(d.d),s.Sb(s.h),s.Sb(n.c),s.Sb(o.f))},mt.\u0275cmp=s.Mb({type:mt,selectors:[["ngx-my-orderzmej"]],decls:14,vars:12,consts:[[1,"bg-blue-600"],[1,"m-r-8"],["matInput","","name","q","placeholder","Buscar por nombre",3,"ngModel","ngModelChange"],["name","order","placeholder","Filtrar por estado",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",1,"m-r-8",3,"click"],[3,"data","columns","length","loading","pageOnFront","pageIndex","pageSize","pageSizeOptions","page"],[3,"value"]],template:function(e,t){1&e&&(s.Tb(0,"page-header",0),s.Yb(1,"form"),s.Yb(2,"mat-form-field",1),s.Yb(3,"input",2),s.gc("ngModelChange",(function(e){return t.query.q=e})),s.Xb(),s.Xb(),s.Yb(4,"mat-form-field",1),s.Yb(5,"mat-select",3),s.gc("ngModelChange",(function(e){return t.query.name=e})),s.Yb(6,"mat-option",4),s.Mc(7,"-- None --"),s.Xb(),s.Kc(8,dt,2,2,"mat-option",5),s.Xb(),s.Xb(),s.Yb(9,"button",6),s.gc("click",(function(){return t.search()})),s.Mc(10,"Buscar"),s.Xb(),s.Yb(11,"button",6),s.gc("click",(function(){return t.addOrderzmej(null)})),s.Mc(12,"Crear nueva orden"),s.Xb(),s.Xb(),s.Yb(13,"mtx-grid",7),s.gc("page",(function(e){return t.getNextPage(e)})),s.Xb()),2&e&&(s.Eb(3),s.qc("ngModel",t.query.q),s.Eb(2),s.qc("ngModel",t.query.name),s.Eb(3),s.qc("ngForOf",t.FlujoData),s.Eb(5),s.qc("data",t.list)("columns",t.columns)("length",t.total)("loading",t.isLoading)("pageOnFront",!1)("pageIndex",t.query.page)("pageSize",t.query.per_page)("pageSizeOptions",s.sc(11,gt)))},directives:[j.a,l.x,l.q,l.r,b.c,m.b,l.c,l.p,l.s,u.a,p.n,d.m,f.b,K.a],styles:[".sortable[_ngcontent-%COMP%]{cursor:pointer}"]}),mt)},{path:"create-zmej",component:ke},{path:"order-zmej-details/:id",component:_},{path:"edit-zmej/:id",component:ut}],vt=((pt=function e(){_classCallCheck(this,e)}).\u0275mod=s.Qb({type:pt}),pt.\u0275inj=s.Pb({factory:function(e){return new(e||pt)},imports:[[o.j.forChild(ht)],o.j]}),pt),Mt=((ft=function e(){_classCallCheck(this,e)}).\u0275mod=s.Qb({type:ft}),ft.\u0275inj=s.Pb({factory:function(e){return new(e||ft)},providers:[d.f,d.d],imports:[[i.a,ie,vt]]}),ft)}}]);